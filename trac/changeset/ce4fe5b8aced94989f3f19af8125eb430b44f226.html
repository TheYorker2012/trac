<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  

  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>
      Changeset ce4fe5b8aced94989f3f19af8125eb430b44f226 –
      The Yorker
    </title>
        <link rel="search" href="../search.html" />
        <link rel="prev" href="9e01fb078a8970136f99fe4daf4da5ad23a3b36b.html" title="Changeset 9e01fb078a8970136f99fe4daf4da5ad23a3b36b" />
        <link rel="last" href="4663e7077f9a41a86111194402f498613109bfa4.html" title="Changeset 4663e7077f9a41a86111194402f498613109bfa4" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="http://dev2.theyorker.co.uk/trac/changeset/ce4fe5b8aced94989f3f19af8125eb430b44f226?format=diff&new=ce4fe5b8aced94989f3f19af8125eb430b44f226" type="text/plain" class="diff" title="Unified Diff" /><link rel="alternate" href="http://dev2.theyorker.co.uk/trac/changeset/ce4fe5b8aced94989f3f19af8125eb430b44f226?format=zip&new=ce4fe5b8aced94989f3f19af8125eb430b44f226" type="application/zip" class="zip" title="Zip Archive" />
        <link rel="next" href="89c6e5ac1bf66476f306eed28ddbd2daf0d3ad24.html" title="Changeset 89c6e5ac1bf66476f306eed28ddbd2daf0d3ad24" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/changeset.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/diff.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/code.css" type="text/css" />
        <link rel="first" href="8f01cfef778eb063e661839b60a7226601ef07b1.html" title="Changeset 8f01cfef778eb063e661839b60a7226601ef07b1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search The Yorker" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/diff.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("li.entry h2 a").parent().addAnchor("Link to this diff");
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../trac.html"><img src="../../apps-logo.png" alt="The Yorker" /></a>
      </div>
      <form id="search" action="/trac/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first">logged in as nick_evans</li><li><a href="../../trac.html">Logout</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../browser.html">Browse Source</a></li><li><a href="../report.html">View Tickets</a></li><li><a href="../newticket.html">New Ticket</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
            <li class="first "><span>&larr; <a class="prev" href="9e01fb078a8970136f99fe4daf4da5ad23a3b36b.html" title="Changeset 9e01fb078a8970136f99fe4daf4da5ad23a3b36b">Previous Changeset</a></span></li><li class="last"><span><a class="next" href="89c6e5ac1bf66476f306eed28ddbd2daf0d3ad24.html" title="Changeset 89c6e5ac1bf66476f306eed28ddbd2daf0d3ad24">Next Changeset</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="changeset">
      <div id="title">
        <h1>Changeset ce4fe5b8aced94989f3f19af8125eb430b44f226</h1>
      </div>
      <form id="prefs" action="">
        <div>
    <label for="style">View differences</label>
    <select id="style" name="style">
      <option selected="selected" value="inline">inline</option>
      <option value="sidebyside">side by side</option>
    </select>
    <div class="field">
      Show <input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
      <label for="contextlines">lines around each change</label>
    </div>
    <fieldset id="ignore">
      <legend>Ignore:</legend>
      <div class="field">
        <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
        <label for="ignoreblanklines">Blank lines</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorecase" name="ignorecase" />
        <label for="ignorecase">Case changes</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
        <label for="ignorewhitespace">White space changes</label>
      </div>
    </fieldset>
    <div class="buttons">
      <input type="submit" name="update" value="Update" />
    </div>
        </div>
      </form>
      <dl id="overview">
          <dt class="property time">Timestamp:</dt>
          <dd class="time">10/30/07 23:16:53 (<a class="timeline" href="http://dev2.theyorker.co.uk/trac/timeline?from=2007-10-30T23%3A16%3A53Z%2B0000&precision=second" title="2007-10-30T23:16:53Z+0000 in Timeline">8 years</a> ago)</dd>
          <dt class="property author">Author:</dt>
          <dd class="author">James Hogan &lt;james_hogan@…&gt;</dd>
              <dt class="property">Parents:</dt>
              <dd><a class="changeset" href="9e01fb078a8970136f99fe4daf4da5ad23a3b36b.html" title="missing games files">9e01fb078a8970136f99fe4daf4da5ad23a3b36b</a></dd>
              <dt class="property">Children:</dt>
              <dd><a class="changeset" href="89c6e5ac1bf66476f306eed28ddbd2daf0d3ad24.html" title="oops, uncommented something that screws up + produces js errors">89c6e5ac1bf66476f306eed28ddbd2daf0d3ad24</a></dd>
              <dt class="property">git-committer:</dt>
              <dd>James Hogan &lt;james_hogan@theyorker.co.uk&gt; / 2007-10-30T23:16:53Z+0000</dd>
          <dt class="property message">Message:</dt>
          <dd class="message searchable">
            
            
              <p>
moved bulk of calendar days view javascript into new public_html/javascript/calendar_days.js<br />
removed use of PHP define in calendar days<br />
various tweaks, including adding of titles to filter buttons<br />
added <a class="missing wiki" href="../wiki/IncludeJs.html" rel="nofollow">IncludeJs?</a> and <a class="missing wiki" href="../wiki/IncludeCss.html" rel="nofollow">IncludeCss?</a> to libraries/frame_public and made use of in calendar subcontroller<br />
</p>

            
            
          </dd>
        <dt class="property files">Files:</dt>
        <dd class="files">
          <div class="legend" id="file-legend">
            <dl>
              <dt class="add"></dt><dd>1 added</dd>
              <dt class="mod"></dt><dd>3 modified</dd>
            </dl>
          </div>
          <br />
          <ul>
            <li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/javascript/calendar_days.js?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226">
              public_html/javascript/calendar_days.js
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226">
              system/application/models/subcontrollers/calendar_subcontroller.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="ce4fe5b8aced94989f3f19af8125eb430b44f226.html#file1">5 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226">
              system/application/views/calendar/days.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="ce4fe5b8aced94989f3f19af8125eb430b44f226.html#file2">11 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/my_calendar.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226">
              system/application/views/calendar/my_calendar.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="ce4fe5b8aced94989f3f19af8125eb430b44f226.html#file3">1 diff</a>)
            </li>
          </ul>
        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file1">
          <a title="Show the changeset ce4fe5b8aced94989f3f19af8125eb430b44f226 restricted to system/application/models/subcontrollers/calendar_subcontroller.php" href="http://dev2.theyorker.co.uk/trac/changeset/ce4fe5b8aced94989f3f19af8125eb430b44f226/system/application/models/subcontrollers/calendar_subcontroller.php">system/application/models/subcontrollers/calendar_subcontroller.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision e02a265b2f126fee4e1f010b3032a9c708559338">
                    <a title="Show revision e02a265b2f126fee4e1f010b3032a9c708559338 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L1245">
                      re02a2</a>
                  </th>
                  <th title="Revision ce4fe5b8aced94989f3f19af8125eb430b44f226">
                    <a title="Show revision ce4fe5b8aced94989f3f19af8125eb430b44f226 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L1245">
                      rce4fe</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>1245</th><th>1245</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;SetupTabs('', $start);</span> </td>
                  </tr><tr>
                          <th>1246</th><th>1246</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>1247</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;main_frame-&gt;SetExtraHead(</span> </td>
                      </tr><tr>
                        <th>1248</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '&lt;link href="/stylesheets/calendar.css" rel="stylesheet" type="text/css" /&gt;'."\n".</span> </td>
                      </tr><tr>
                        <th>1249</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '&lt;script type="text/javascript" src="/javascript/calendar_edit.js"&gt;&lt;/script&gt;'."\n"</span> </td>
                      </tr><tr>
                        <th>1250</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>1247</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;main_frame-&gt;IncludeCss('stylesheets/calendar.css');</span> </td>
                      </tr><tr>
                        <th> </th><th>1248</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;main_frame-&gt;IncludeJs('javascript/calendar_edit.js');</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>1249</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1251</th><th>1250</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;main_frame-&gt;SetContent(</span> </td>
                  </tr><tr>
                          <th>1252</th><th>1251</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new FramesView('calendar/event_edit', $data)</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L1622">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L1621">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>1622</th><th>1621</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'event' =&gt; $event-&gt;Name,</span> </td>
                  </tr><tr>
                          <th>1623</th><th>1622</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ));</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>1624</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>$this-&gt;main_frame-&gt;SetExtraHead(</del></span> </td>
                      </tr><tr>
                        <th>1625</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; '&lt;link href="/stylesheets/calendar.css" rel="stylesheet" type="text/css" /&gt;'."\n".</del></span> </td>
                      </tr><tr>
                        <th>1626</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; '&lt;script type="text/javascript" src="/javascript/calendar_edit.js"&gt;&lt;/script&gt;'."\n"</del></span> </td>
                      </tr><tr>
                        <th>1627</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>);</del></span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>1623</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins></ins></span> </td>
                      </tr><tr>
                        <th> </th><th>1624</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>$this-&gt;main_frame-&gt;IncludeCss('stylesheets/calendar.css');</ins></span> </td>
                      </tr><tr>
                        <th> </th><th>1625</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>$this-&gt;main_frame-&gt;IncludeJs('javascript/calendar_edit.js');</ins></span> </td>
                      </tr><tr class="last">
                        <th> </th><th>1626</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins></ins></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1628</th><th>1627</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;main_frame-&gt;SetContent(</span> </td>
                  </tr><tr>
                          <th>1629</th><th>1628</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new FramesView('calendar/event_edit', $data)</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L2222">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L2221">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>2222</th><th>2221</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Then the attendance filters</span> </td>
                  </tr><tr>
                          <th>2223</th><th>2222</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $filters['hidden'] = array(</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>2224</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; '<del></del>not attending',</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>2223</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; '<ins>filter </ins>not attending',</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>2225</th><th>2224</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'field'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'visibility',</span> </td>
                  </tr><tr>
                          <th>2226</th><th>2225</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'no',</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L2233">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L2232">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>2233</th><th>2232</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span> </td>
                  </tr><tr>
                          <th>2234</th><th>2233</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $filters['visible'] = array(</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>2235</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; '<del></del>maybe attending',</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>2234</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; '<ins>filter </ins>maybe attending',</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>2236</th><th>2235</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'field'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'visibility',</span> </td>
                  </tr><tr>
                          <th>2237</th><th>2236</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'maybe',</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L2244">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/models/subcontrollers/calendar_subcontroller.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L2243">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>2244</th><th>2243</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span> </td>
                  </tr><tr>
                          <th>2245</th><th>2244</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $filters['rsvp'] = array(</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>2246</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; '<del></del>attending',</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>2245</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'name'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; '<ins>filter </ins>attending',</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>2247</th><th>2246</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'field'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'visibility',</span> </td>
                  </tr><tr>
                          <th>2248</th><th>2247</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'value'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'yes',</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file2">
          <a title="Show the changeset ce4fe5b8aced94989f3f19af8125eb430b44f226 restricted to system/application/views/calendar/days.php" href="http://dev2.theyorker.co.uk/trac/changeset/ce4fe5b8aced94989f3f19af8125eb430b44f226/system/application/views/calendar/days.php">system/application/views/calendar/days.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision e02a265b2f126fee4e1f010b3032a9c708559338">
                    <a title="Show revision e02a265b2f126fee4e1f010b3032a9c708559338 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L53">
                      re02a2</a>
                  </th>
                  <th title="Revision ce4fe5b8aced94989f3f19af8125eb430b44f226">
                    <a title="Show revision ce4fe5b8aced94989f3f19af8125eb430b44f226 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L53">
                      rce4fe</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>53</th><th>53</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>54</th><th>54</th><td class="l"><span>&lt;?php</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>55</th><th> </th><td class="l"><span><del>define('HOUR_HEIGHT', 42)</del>;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>55</th><td class="r"><span><ins>$HourHeight = 42</ins>;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>56</th><th>56</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>57</th><th>57</th><td class="l"><span>function js_nl2br ($string) {</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L61">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L61">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>61</th><th>61</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>62</th><th>62</th><td class="l"><span>&lt;script type="text/javascript"&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>63</th><th> </th><td class="l"><span>var HOUR_HEIGHT = &lt;?php echo(<del>HOUR_HEIGHT</del>); ?&gt;;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>63</th><td class="r"><span>var HOUR_HEIGHT = &lt;?php echo(<ins>$HourHeight</ins>); ?&gt;;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>64</th><th>64</th><td class="l"><span>var COL_WIDTH = 88;</span> </td>
                  </tr><tr>
                          <th>65</th><th>65</th><td class="l"><span>var MAX_ALL_DAY = 0;</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L115">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L115">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>115</th><th>115</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '"&gt;');</span> </td>
                  </tr><tr>
                          <th>116</th><th>116</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>117</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;img src="'.$attend_state_images[$attend_state][$in_state?1:0].'" alt="'.$attend_state_images[$attend_state][2].'" <del></del>/&gt;');</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>117</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;img src="'.$attend_state_images[$attend_state][$in_state?1:0].'" alt="'.$attend_state_images[$attend_state][2].'" <ins>title="'.$attend_state_images[$attend_state][2].'" </ins>/&gt;');</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>118</th><th>118</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!$in_state &amp;&amp; $attendence_writeable) {</span> </td>
                  </tr><tr>
                          <th>119</th><th>119</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;/a&gt;');</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L152">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L152">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>152</th><th>152</th><td class="l"><span>} ?&gt;</span> </td>
                  </tr><tr>
                          <th>153</th><th>153</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>154</th><th> </th><td class="l"><del>function drawCalendar () {</del> </td>
                  </tr><tr>
                          <th>155</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Reset event counters</del> </td>
                  </tr><tr>
                          <th>156</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (var i=0;i&lt;=(DAYS.length-1);i++) {</del> </td>
                  </tr><tr>
                          <th>157</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('cal_day_'+DAYS[i]+'_before').innerHTML = '';</del> </td>
                  </tr><tr>
                          <th>158</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('cal_day_'+DAYS[i]+'_after').innerHTML = '';</del> </td>
                  </tr><tr>
                          <th>159</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>160</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>161</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; clearCalendar();</del> </td>
                  </tr><tr>
                          <th>162</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; timeCalendar();</del> </td>
                  </tr><tr>
                          <th>163</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; resizeCalendar();</del> </td>
                  </tr><tr>
                          <th>164</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; resizeCalendarAllDay();</del> </td>
                  </tr><tr>
                          <th>165</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>166</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (var i=0; i&lt;ALL_EVENT_COUNT; i++) {</del> </td>
                  </tr><tr>
                          <th>167</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var eventStartDate = new Date(ALL_EVENT_CACHE[i][4]*1000);</del> </td>
                  </tr><tr>
                          <th>168</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var eventEndDate = new Date(ALL_EVENT_CACHE[i][5]*1000);</del> </td>
                  </tr><tr>
                          <th>169</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //function drawAllDayEvent (id, category, link, title, start_hour, duration, height)</del> </td>
                  </tr><tr>
                          <th>170</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>171</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drawAllDayEvent('a'+i,</del> </td>
                  </tr><tr>
                          <th>172</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ALL_EVENT_CACHE[i][1],</del> </td>
                  </tr><tr>
                          <th>173</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ALL_EVENT_CACHE[i][6],</del> </td>
                  </tr><tr>
                          <th>174</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ALL_EVENT_CACHE[i][0],</del> </td>
                  </tr><tr>
                          <th>175</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Number(((eventStartDate.getTime() - FIRST_DAY.getTime())/(1000*60*60)).toFixed(2)),</del> </td>
                  </tr><tr>
                          <th>176</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Number(((eventEndDate.getTime() - eventStartDate.getTime())/(1000*60*60)).toFixed(2))</del> </td>
                  </tr><tr>
                          <th>177</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</del> </td>
                  </tr><tr>
                          <th>178</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>179</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>180</th><th> </th><td class="l"><del>/*</del> </td>
                  </tr><tr>
                          <th>181</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; drawAllDayEvent('901', 'Anniversary', '/test/link/', 'Birthday 20: Richard Ingle', 24, 35.98, 0);</del> </td>
                  </tr><tr>
                          <th>182</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; drawAllDayEvent('903', 'Meeting', '/test/link/', 'Conference', 60, 11.98, 1);</del> </td>
                  </tr><tr>
                          <th>183</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; drawAllDayEvent('900', 'Social', '/test/link/', 'Day Event', 0, 23.98, 0);</del> </td>
                  </tr><tr>
                          <th>184</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; drawAllDayEvent('902', 'Facebook', '/test/link/', 'FragSoc', 12, 29.98, 1);</del> </td>
                  </tr><tr>
                          <th>185</th><th> </th><td class="l"><del>*/</del> </td>
                  </tr><tr>
                          <th>186</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>187</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Get all the events we need to display */</del> </td>
                  </tr><tr>
                          <th>188</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var TEMP_CACHE = new Array();</del> </td>
                  </tr><tr>
                          <th>189</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var temp_count = 0;</del> </td>
                  </tr><tr>
                          <th>190</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (var i=0; i&lt;EVENT_COUNT; i++) {</del> </td>
                  </tr><tr>
                          <th>191</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var eventStartDate = new Date(EVENT_CACHE[i][4]*1000);</del> </td>
                  </tr><tr>
                          <th>192</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var eventEndDate = new Date(EVENT_CACHE[i][5]*1000);</del> </td>
                  </tr><tr>
                          <th>193</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count] = new Array();</del> </td>
                  </tr><tr>
                          <th>194</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count] = EVENT_CACHE[i].slice(0);</del> </td>
                  </tr><tr>
                          <th>195</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp_count++;</del> </td>
                  </tr><tr>
                          <th>196</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Display on previous day too*/</del> </td>
                  </tr><tr>
                          <th>197</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (eventStartDate.getHours() &lt;= (MAX_END_HOUR-24)) {</del> </td>
                  </tr><tr>
                          <th>198</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count] = new Array();</del> </td>
                  </tr><tr>
                          <th>199</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count] = EVENT_CACHE[i].slice(0);</del> </td>
                  </tr><tr>
                          <th>200</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count][4] = Number(TEMP_CACHE[temp_count][4]) - 86400;</del> </td>
                  </tr><tr>
                          <th>201</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count][5] = Number(TEMP_CACHE[temp_count][5]) - 86400;</del> </td>
                  </tr><tr>
                          <th>202</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count][9] = 24;</del> </td>
                  </tr><tr>
                          <th>203</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp_count++;</del> </td>
                  </tr><tr>
                          <th>204</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>205</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Display on next day too */</del> </td>
                  </tr><tr>
                          <th>206</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((((eventEndDate.getTime()-eventStartDate.getTime())/3600000)+eventStartDate.getHours()+(eventStartDate.getMinutes()/60)) &gt; 24) {</del> </td>
                  </tr><tr>
                          <th>207</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count] = new Array();</del> </td>
                  </tr><tr>
                          <th>208</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count] = EVENT_CACHE[i].slice(0);</del> </td>
                  </tr><tr>
                          <th>209</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count][4] = Number(TEMP_CACHE[temp_count][4]) + 86400;</del> </td>
                  </tr><tr>
                          <th>210</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count][5] = Number(TEMP_CACHE[temp_count][5]) + 86400;</del> </td>
                  </tr><tr>
                          <th>211</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[temp_count][9] = -24;</del> </td>
                  </tr><tr>
                          <th>212</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp_count++;</del> </td>
                  </tr><tr>
                          <th>213</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>214</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>215</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>216</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Determine Event Clashes */</del> </td>
                  </tr><tr>
                          <th>217</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (var i=0; i&lt;temp_count; i++) {</del> </td>
                  </tr><tr>
                          <th>218</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var clashes = new Array();</del> </td>
                  </tr><tr>
                          <th>219</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var clash_pos = new Array();</del> </td>
                  </tr><tr>
                          <th>220</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var clash_count = 0;</del> </td>
                  </tr><tr>
                          <th>221</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var clash_width = TEMP_CACHE[i][8];</del> </td>
                  </tr><tr>
                          <th>222</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (var j=i+1; j&lt;temp_count; j++) {</del> </td>
                  </tr><tr>
                          <th>223</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (((TEMP_CACHE[j][4] &gt;= TEMP_CACHE[i][4]) &amp;&amp; (TEMP_CACHE[j][4] &lt; TEMP_CACHE[i][5])) || // start of j during i</del> </td>
                  </tr><tr>
                          <th>224</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((TEMP_CACHE[j][5] &gt; TEMP_CACHE[i][4]) &amp;&amp; (TEMP_CACHE[j][5] &lt;= TEMP_CACHE[i][5])) || // end of j during i</del> </td>
                  </tr><tr>
                          <th>225</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((TEMP_CACHE[j][4] &lt; TEMP_CACHE[i][4]) &amp;&amp; (TEMP_CACHE[j][5] &gt; TEMP_CACHE[i][5])))&nbsp; // j encompases i</del> </td>
                  </tr><tr>
                          <th>226</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>227</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clashes[clash_count] = j;</del> </td>
                  </tr><tr>
                          <th>228</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (TEMP_CACHE[j][7] != -1)</del> </td>
                  </tr><tr>
                          <th>229</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clash_pos[clash_pos.length] = TEMP_CACHE[j][7];</del> </td>
                  </tr><tr>
                          <th>230</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (TEMP_CACHE[j][8] &gt; clash_width)</del> </td>
                  </tr><tr>
                          <th>231</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clash_width = TEMP_CACHE[j][8];</del> </td>
                  </tr><tr>
                          <th>232</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clash_count++;</del> </td>
                  </tr><tr>
                          <th>233</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>234</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>235</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (TEMP_CACHE[i][7] != -1)</del> </td>
                  </tr><tr>
                          <th>236</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clash_pos[clash_pos.length] = TEMP_CACHE[i][7];</del> </td>
                  </tr><tr>
                          <th>237</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((clash_count+1) &gt; clash_width)</del> </td>
                  </tr><tr>
                          <th>238</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clash_width = clash_count + 1;</del> </td>
                  </tr><tr>
                          <th>239</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var current_pos = 0;</del> </td>
                  </tr><tr>
                          <th>240</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (in_array(current_pos, clash_pos)) { current_pos++; }</del> </td>
                  </tr><tr>
                          <th>241</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][8] = clash_width;</del> </td>
                  </tr><tr>
                          <th>242</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (TEMP_CACHE[i][7] == -1) {</del> </td>
                  </tr><tr>
                          <th>243</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][7] = current_pos;</del> </td>
                  </tr><tr>
                          <th>244</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (in_array(current_pos++, clash_pos)) { current_pos++; }</del> </td>
                  </tr><tr>
                          <th>245</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>246</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (var j=0; j&lt;clash_count; j++) {</del> </td>
                  </tr><tr>
                          <th>247</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[clashes[j]][8] = clash_width;</del> </td>
                  </tr><tr>
                          <th>248</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (TEMP_CACHE[clashes[j]][7] == -1) {</del> </td>
                  </tr><tr>
                          <th>249</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[clashes[j]][7] = current_pos;</del> </td>
                  </tr><tr>
                          <th>250</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (in_array(current_pos++, clash_pos)) { current_pos++; }</del> </td>
                  </tr><tr>
                          <th>251</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>252</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>253</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>254</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>255</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>256</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; /* Draw each Event */</del> </td>
                  </tr><tr>
                          <th>257</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (var i=0; i&lt;temp_count; i++) {</del> </td>
                  </tr><tr>
                          <th>258</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var eventStartDate = new Date(TEMP_CACHE[i][4]*1000);</del> </td>
                  </tr><tr>
                          <th>259</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var eventEndDate = new Date(TEMP_CACHE[i][5]*1000);</del> </td>
                  </tr><tr>
                          <th>260</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drawEvent('cal_day_'+zeroTime(eventStartDate.getFullYear())+zeroTime(eventStartDate.getMonth()+1)+zeroTime(eventStartDate.getDate()),</del> </td>
                  </tr><tr>
                          <th>261</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i,</del> </td>
                  </tr><tr>
                          <th>262</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][1],</del> </td>
                  </tr><tr>
                          <th>263</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][6],</del> </td>
                  </tr><tr>
                          <th>264</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][0],</del> </td>
                  </tr><tr>
                          <th>265</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; zeroTime(eventStartDate.getHours())+':'+zeroTime(eventStartDate.getMinutes())+' - '+zeroTime(eventEndDate.getHours())+':'+zeroTime(eventEndDate.getMinutes()),</del> </td>
                  </tr><tr>
                          <th>266</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][2],</del> </td>
                  </tr><tr>
                          <th>267</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][3],</del> </td>
                  </tr><tr>
                          <th>268</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Number((eventStartDate.getHours()+(eventStartDate.getMinutes()/60)+TEMP_CACHE[i][9]).toFixed(2)),</del> </td>
                  </tr><tr>
                          <th>269</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Number(((eventEndDate.getTime() - eventStartDate.getTime())/(1000*60*60)).toFixed(2)),</del> </td>
                  </tr><tr>
                          <th>270</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][7],</del> </td>
                  </tr><tr>
                          <th>271</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TEMP_CACHE[i][8]</del> </td>
                  </tr><tr>
                          <th>272</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</del> </td>
                  </tr><tr>
                          <th>273</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>274</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>275</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // current selection</del> </td>
                  </tr><tr>
                          <th>276</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; removeCreateBox();</del> </td>
                  </tr><tr>
                          <th>277</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>278</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return false;</del> </td>
                  </tr><tr>
                          <th>279</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>280</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>281</th><th> </th><td class="l"><del>function drawAllDayEvent (id, category, link, title, start_hour, duration, height) {</del> </td>
                  </tr><tr>
                          <th>282</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var p_ele = document.getElementById('calendar_all_day_events');</del> </td>
                  </tr><tr>
                          <th>283</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (p_ele == null)</del> </td>
                  </tr><tr>
                          <th>284</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>285</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>286</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (height == null)</del> </td>
                  </tr><tr>
                          <th>287</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; height = 0;</del> </td>
                  </tr><tr>
                          <th>288</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>289</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var start_day = 0;</del> </td>
                  </tr><tr>
                          <th>290</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var start_left = 0;</del> </td>
                  </tr><tr>
                          <th>291</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var p_day = document.getElementById('cal_day_'+DAYS[start_day]);</del> </td>
                  </tr><tr>
                          <th>292</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (p_day == null)</del> </td>
                  </tr><tr>
                          <th>293</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>294</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; start_left = start_left + findPos(p_day)[0];</del> </td>
                  </tr><tr>
                          <th>295</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; while (start_hour &gt;= 24) {</del> </td>
                  </tr><tr>
                          <th>296</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_day++;</del> </td>
                  </tr><tr>
                          <th>297</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_hour = start_hour - 24;</del> </td>
                  </tr><tr>
                          <th>298</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var p_day = document.getElementById('cal_day_'+DAYS[start_day]);</del> </td>
                  </tr><tr>
                          <th>299</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (p_day == null)</del> </td>
                  </tr><tr>
                          <th>300</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>301</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_left = start_left + (p_day.offsetWidth-1);</del> </td>
                  </tr><tr>
                          <th>302</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>303</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var p_day = document.getElementById('cal_day_'+DAYS[start_day]);</del> </td>
                  </tr><tr>
                          <th>304</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (p_day == null)</del> </td>
                  </tr><tr>
                          <th>305</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>306</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; start_left = start_left + ((p_day.offsetWidth/24)*start_hour);</del> </td>
                  </tr><tr>
                          <th>307</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>308</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var day_remainder = 24 - start_hour;</del> </td>
                  </tr><tr>
                          <th>309</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var duration_width = 0;</del> </td>
                  </tr><tr>
                          <th>310</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (duration &lt;= day_remainder) {</del> </td>
                  </tr><tr>
                          <th>311</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration_width = duration_width + ((p_day.offsetWidth/24)*duration);</del> </td>
                  </tr><tr>
                          <th>312</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; } else {</del> </td>
                  </tr><tr>
                          <th>313</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration_width = duration_width + (((p_day.offsetWidth/24)*day_remainder)-1);</del> </td>
                  </tr><tr>
                          <th>314</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration = duration - day_remainder;</del> </td>
                  </tr><tr>
                          <th>315</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (duration &gt; 0) {</del> </td>
                  </tr><tr>
                          <th>316</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_day++;</del> </td>
                  </tr><tr>
                          <th>317</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var p_day = document.getElementById('cal_day_'+DAYS[start_day]);</del> </td>
                  </tr><tr>
                          <th>318</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (p_day == null) {</del> </td>
                  </tr><tr>
                          <th>319</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration = 0;</del> </td>
                  </tr><tr>
                          <th>320</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if (duration &gt;= 24) {</del> </td>
                  </tr><tr>
                          <th>321</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration_width = duration_width + (p_day.offsetWidth-1);</del> </td>
                  </tr><tr>
                          <th>322</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration = duration - 24;</del> </td>
                  </tr><tr>
                          <th>323</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</del> </td>
                  </tr><tr>
                          <th>324</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration_width = duration_width + ((p_day.offsetWidth/24)*duration);</del> </td>
                  </tr><tr>
                          <th>325</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration = 0;</del> </td>
                  </tr><tr>
                          <th>326</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>327</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>328</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>329</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>330</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var event_link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = document.createElement('a');</del> </td>
                  </tr><tr>
                          <th>331</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; event_link.href&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= link;</del> </td>
                  </tr><tr>
                          <th>332</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; event_link.innerHTML&nbsp; &nbsp; = title;</del> </td>
                  </tr><tr>
                          <th>333</th><th> </th><td class="l"><del>//&nbsp; &nbsp; &nbsp; event_link.appendChild(document.createTextNode(title));</del> </td>
                  </tr><tr>
                          <th>334</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>335</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var event_title&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>336</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; event_title.className&nbsp; &nbsp;= 'cal_event_heading';</del> </td>
                  </tr><tr>
                          <th>337</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; event_title.appendChild(event_link);</del> </td>
                  </tr><tr>
                          <th>338</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>339</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>340</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 'cal_event_' + id;</del> </td>
                  </tr><tr>
                          <th>341</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.className&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 'cal_event new cal_category_' + category;</del> </td>
                  </tr><tr>
                          <th>342</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.top&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= findPos(p_ele)[1] + (height*(HOUR_HEIGHT/2)) + 'px';</del> </td>
                  </tr><tr>
                          <th>343</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.left&nbsp; &nbsp; = start_left + 'px';</del> </td>
                  </tr><tr>
                          <th>344</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.height&nbsp; = ((HOUR_HEIGHT/2)-2) + 'px';</del> </td>
                  </tr><tr>
                          <th>345</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.width&nbsp; &nbsp;= (duration_width-2) + 'px';</del> </td>
                  </tr><tr>
                          <th>346</th><th> </th><td class="l"><del>//&nbsp; &nbsp; &nbsp; new_event.onclick&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= function(){ alert('You clicked on this event!'); };</del> </td>
                  </tr><tr>
                          <th>347</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>348</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.appendChild(event_title);</del> </td>
                  </tr><tr>
                          <th>349</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>350</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('calendar_all_day_events').appendChild(new_event);</del> </td>
                  </tr><tr>
                          <th>351</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>352</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (height &gt; MAX_ALL_DAY)</del> </td>
                  </tr><tr>
                          <th>353</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MAX_ALL_DAY = height;</del> </td>
                  </tr><tr>
                          <th>354</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>355</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>356</th><th> </th><td class="l"><del>function drawEvent(parent, id, category, link, title, content_time, content_location, content_description, start_hour, duration, left, width) {</del> </td>
                  </tr><tr>
                          <th>357</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var p_ele = document.getElementById(parent);</del> </td>
                  </tr><tr>
                          <th>358</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (p_ele == null)</del> </td>
                  </tr><tr>
                          <th>359</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>360</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>361</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if ((left == null) || (left == -1))</del> </td>
                  </tr><tr>
                          <th>362</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; left = 0;</del> </td>
                  </tr><tr>
                          <th>363</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (width == null)</del> </td>
                  </tr><tr>
                          <th>364</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; width = 1;</del> </td>
                  </tr><tr>
                          <th>365</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; width = Math.floor((p_ele.offsetWidth / width)-2-5);</del> </td>
                  </tr><tr>
                          <th>366</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>367</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var full_display = true;</del> </td>
                  </tr><tr>
                          <th>368</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var height_adjustment = 0;</del> </td>
                  </tr><tr>
                          <th>369</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>370</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Check if should be displayed</del> </td>
                  </tr><tr>
                          <th>371</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if ((start_hour+duration) &lt; START_HOUR) {</del> </td>
                  </tr><tr>
                          <th>372</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var counter = document.getElementById(parent+'_before');</del> </td>
                  </tr><tr>
                          <th>373</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter.innerHTML = Number(counter.innerHTML) + 1;</del> </td>
                  </tr><tr>
                          <th>374</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>375</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>376</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (start_hour &gt;= (END_HOUR+1)) {</del> </td>
                  </tr><tr>
                          <th>377</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var counter = document.getElementById(parent+'_after');</del> </td>
                  </tr><tr>
                          <th>378</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter.innerHTML = Number(counter.innerHTML) + 1;</del> </td>
                  </tr><tr>
                          <th>379</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>380</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>381</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (start_hour &lt; START_HOUR)</del> </td>
                  </tr><tr>
                          <th>382</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; full_display = false;</del> </td>
                  </tr><tr>
                          <th>383</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>384</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>385</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 'cal_event_' + id;</del> </td>
                  </tr><tr>
                          <th>386</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.className&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 'cal_event cal_category_' + category;</del> </td>
                  </tr><tr>
                          <th>387</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.left&nbsp; &nbsp; = findPos(p_ele)[0] + (left*(width+2+5)) + 'px';</del> </td>
                  </tr><tr>
                          <th>388</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.width&nbsp; &nbsp;= width + 'px';</del> </td>
                  </tr><tr>
                          <th>389</th><th> </th><td class="l"><del>//&nbsp; &nbsp; &nbsp; new_event.onclick&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= function(){ alert('You clicked on this event!'); };</del> </td>
                  </tr><tr>
                          <th>390</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>391</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if ((start_hour+duration) &gt;= (END_HOUR+1)) {</del> </td>
                  </tr><tr>
                          <th>392</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration = (END_HOUR+1) - start_hour;</del> </td>
                  </tr><tr>
                          <th>393</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.className += ' cal_event_split_bottom';</del> </td>
                  </tr><tr>
                          <th>394</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; height_adjustment = 1;</del> </td>
                  </tr><tr>
                          <th>395</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>396</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; start_hour = start_hour-START_HOUR;</del> </td>
                  </tr><tr>
                          <th>397</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (start_hour &lt; 0) {</del> </td>
                  </tr><tr>
                          <th>398</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; duration += start_hour;</del> </td>
                  </tr><tr>
                          <th>399</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_hour = 0;</del> </td>
                  </tr><tr>
                          <th>400</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.className += ' cal_event_split_top';</del> </td>
                  </tr><tr>
                          <th>401</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; height_adjustment = 1;</del> </td>
                  </tr><tr>
                          <th>402</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>403</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.top&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= findPos(p_ele)[1] + 1 + ((start_hour*HOUR_HEIGHT)-2) + 'px';</del> </td>
                  </tr><tr>
                          <th>404</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.height&nbsp; = ((duration*HOUR_HEIGHT)-2+height_adjustment) + 'px';</del> </td>
                  </tr><tr>
                          <th>405</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>406</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (full_display) {</del> </td>
                  </tr><tr>
                          <th>407</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var event_link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = document.createElement('a');</del> </td>
                  </tr><tr>
                          <th>408</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_link.href&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= link;</del> </td>
                  </tr><tr>
                          <th>409</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_link.innerHTML&nbsp; &nbsp; = title;</del> </td>
                  </tr><tr>
                          <th>410</th><th> </th><td class="l"><del>//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_link.appendChild(document.createTextNode(title));</del> </td>
                  </tr><tr>
                          <th>411</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>412</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var event_title&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>413</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_title.className&nbsp; &nbsp;= 'cal_event_heading';</del> </td>
                  </tr><tr>
                          <th>414</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_title.appendChild(event_link);</del> </td>
                  </tr><tr>
                          <th>415</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>416</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var event_content_i&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('i');</del> </td>
                  </tr><tr>
                          <th>417</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_content_i.innerHTML&nbsp; &nbsp; &nbsp; &nbsp;= content_location;</del> </td>
                  </tr><tr>
                          <th>418</th><th> </th><td class="l"><del>//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_content_i.appendChild(document.createTextNode(content_location));</del> </td>
                  </tr><tr>
                          <th>419</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>420</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var event_content&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>421</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_content.className = 'cal_event_info';</del> </td>
                  </tr><tr>
                          <th>422</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_content.appendChild(document.createTextNode(content_time));</del> </td>
                  </tr><tr>
                          <th>423</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>424</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var event_content2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>425</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_content2.className= 'cal_event_info';</del> </td>
                  </tr><tr>
                          <th>426</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_content2.appendChild(event_content_i);</del> </td>
                  </tr><tr>
                          <th>427</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (content_description != '') {</del> </td>
                  </tr><tr>
                          <th>428</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_content2.innerHTML&nbsp; &nbsp; &nbsp; &nbsp; += "&lt;br /&gt;"+content_description;</del> </td>
                  </tr><tr>
                          <th>429</th><th> </th><td class="l"><del>//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event_content2.appendChild(document.createTextNode(content_description));</del> </td>
                  </tr><tr>
                          <th>430</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>431</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>432</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.appendChild(event_title);</del> </td>
                  </tr><tr>
                          <th>433</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.appendChild(event_content);</del> </td>
                  </tr><tr>
                          <th>434</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.appendChild(event_content2);</del> </td>
                  </tr><tr>
                          <th>435</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>436</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>437</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; document.getElementById(parent).appendChild(new_event);</del> </td>
                  </tr><tr>
                          <th>438</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>439</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>440</th><th> </th><td class="l"><del>function findPos(obj) {</del> </td>
                  </tr><tr>
                          <th>441</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var curleft = curtop = 0;</del> </td>
                  </tr><tr>
                          <th>442</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (obj.offsetParent) {</del> </td>
                  </tr><tr>
                          <th>443</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curleft = obj.offsetLeft</del> </td>
                  </tr><tr>
                          <th>444</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curtop = obj.offsetTop</del> </td>
                  </tr><tr>
                          <th>445</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (obj = obj.offsetParent) {</del> </td>
                  </tr><tr>
                          <th>446</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curleft += obj.offsetLeft</del> </td>
                  </tr><tr>
                          <th>447</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curtop += obj.offsetTop</del> </td>
                  </tr><tr>
                          <th>448</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>449</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>450</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return [curleft,curtop];</del> </td>
                  </tr><tr>
                          <th>451</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>452</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>453</th><th> </th><td class="l"><del>function findMouse(e) {</del> </td>
                  </tr><tr>
                          <th>454</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var posx = 0;</del> </td>
                  </tr><tr>
                          <th>455</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var posy = 0;</del> </td>
                  </tr><tr>
                          <th>456</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (!e) var e = window.event;</del> </td>
                  </tr><tr>
                          <th>457</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (e.pageX || e.pageY)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</del> </td>
                  </tr><tr>
                          <th>458</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; posx = e.pageX;</del> </td>
                  </tr><tr>
                          <th>459</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; posy = e.pageY;</del> </td>
                  </tr><tr>
                          <th>460</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; } else if (e.clientX || e.clientY)&nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>461</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; posx = e.clientX + document.body.scrollLeft</del> </td>
                  </tr><tr>
                          <th>462</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + document.documentElement.scrollLeft;</del> </td>
                  </tr><tr>
                          <th>463</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; posy = e.clientY + document.body.scrollTop</del> </td>
                  </tr><tr>
                          <th>464</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + document.documentElement.scrollTop;</del> </td>
                  </tr><tr>
                          <th>465</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>466</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return [posx,posy];</del> </td>
                  </tr><tr>
                          <th>467</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>468</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>469</th><th> </th><td class="l"><del>function resizeCalendarAllDay() {</del> </td>
                  </tr><tr>
                          <th>470</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('calendar_all_day_events').style.height = ((MAX_ALL_DAY+1)*(HOUR_HEIGHT/2)) + 'px';</del> </td>
                  </tr><tr>
                          <th>471</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>472</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>473</th><th> </th><td class="l"><del>function resizeCalendar() {</del> </td>
                  </tr><tr>
                          <th>474</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; cal = document.getElementById("calendar_view");</del> </td>
                  </tr><tr>
                          <th>475</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; numberOfColumns = cal.getElementsByTagName('th').length;</del> </td>
                  </tr><tr>
                          <th>476</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>477</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Now, what is the actual width of the table</del> </td>
                  </tr><tr>
                          <th>478</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // (in case there are borders or the width is a percentage)</del> </td>
                  </tr><tr>
                          <th>479</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; actualWidth = cal.scrollWidth;</del> </td>
                  </tr><tr>
                          <th>480</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Is there a border?</del> </td>
                  </tr><tr>
                          <th>481</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; //totalBorder = cal.border;</del> </td>
                  </tr><tr>
                          <th>482</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Is there some cell spacing?</del> </td>
                  </tr><tr>
                          <th>483</th><th> </th><td class="l"><del>&nbsp; &nbsp; //totalSpacing = cal.cellSpacing * (numberOfColumns + 1);</del> </td>
                  </tr><tr>
                          <th>484</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // The width we have to play with...</del> </td>
                  </tr><tr>
                          <th>485</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; //CalWidth = actualWidth - totalSpacing;</del> </td>
                  </tr><tr>
                          <th>486</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; CalWidth = actualWidth - document.getElementById('calendar_time').style.width - (numberOfColumns + 1);</del> </td>
                  </tr><tr>
                          <th>487</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // ...which makes each cell this wide</del> </td>
                  </tr><tr>
                          <th>488</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; COL_WIDTH = Math.floor(CalWidth / numberOfColumns);</del> </td>
                  </tr><tr>
                          <th>489</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>490</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for(i = 0;i &lt; numberOfColumns; i++) {</del> </td>
                  </tr><tr>
                          <th>491</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Apply cell width</del> </td>
                  </tr><tr>
                          <th>492</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cal.getElementsByTagName('th')[i].style.width = COL_WIDTH + "px";</del> </td>
                  </tr><tr>
                          <th>493</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>494</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return false;</del> </td>
                  </tr><tr>
                          <th>495</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>496</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>497</th><th> </th><td class="l"><del>function alterTime (amount) {</del> </td>
                  </tr><tr>
                          <th>498</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Check hour ranges</del> </td>
                  </tr><tr>
                          <th>499</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (((START_HOUR+amount) &gt;= MAX_START_HOUR) &amp;&amp; ((END_HOUR+amount) &lt;= MAX_END_HOUR)) {</del> </td>
                  </tr><tr>
                          <th>500</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; START_HOUR = START_HOUR + amount;</del> </td>
                  </tr><tr>
                          <th>501</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; END_HOUR = END_HOUR + amount;</del> </td>
                  </tr><tr>
                          <th>502</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drawCalendar();</del> </td>
                  </tr><tr>
                          <th>503</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>504</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return false;</del> </td>
                  </tr><tr>
                          <th>505</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>506</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>507</th><th> </th><td class="l"><del>function timeCalendar() {</del> </td>
                  </tr><tr>
                          <th>508</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var time_col = document.getElementById('calendar_time');</del> </td>
                  </tr><tr>
                          <th>509</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (time_col == null)</del> </td>
                  </tr><tr>
                          <th>510</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>511</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>512</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var current_end = END_HOUR;</del> </td>
                  </tr><tr>
                          <th>513</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (current_end &gt; 23)</del> </td>
                  </tr><tr>
                          <th>514</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; current_end = 23;</del> </td>
                  </tr><tr>
                          <th>515</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>516</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (h=START_HOUR; h&lt;=current_end; h++) {</del> </td>
                  </tr><tr>
                          <th>517</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drawHour(h, time_col);</del> </td>
                  </tr><tr>
                          <th>518</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>519</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (h=0; h&lt;=(END_HOUR-24); h++) {</del> </td>
                  </tr><tr>
                          <th>520</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; drawHour(h, time_col);</del> </td>
                  </tr><tr>
                          <th>521</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>522</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>523</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (i=0;i&lt;=(DAYS.length-1);i++) {</del> </td>
                  </tr><tr>
                          <th>524</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('cal_day_'+DAYS[i]).style.height = ((END_HOUR-START_HOUR+1)*HOUR_HEIGHT) + 'px';</del> </td>
                  </tr><tr>
                          <th>525</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>526</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>527</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>528</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>529</th><th> </th><td class="l"><del>function drawHour (hour, time_col) {</del> </td>
                  </tr><tr>
                          <th>530</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_hour = document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>531</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_hour.appendChild(document.createTextNode(hour+':00'));</del> </td>
                  </tr><tr>
                          <th>532</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; time_col.appendChild(new_hour);</del> </td>
                  </tr><tr>
                          <th>533</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>534</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>535</th><th> </th><td class="l"><del>function zeroTime (time) {</del> </td>
                  </tr><tr>
                          <th>536</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return ((time &lt; 10) ? "0" : "") + time;</del> </td>
                  </tr><tr>
                          <th>537</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>538</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>539</th><th> </th><td class="l"><del>function clearCalendar() {</del> </td>
                  </tr><tr>
                          <th>540</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (var i=0; i&lt;=(DAYS.length-1); i++) {</del> </td>
                  </tr><tr>
                          <th>541</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; removeChildrenFromNode(document.getElementById('cal_day_'+DAYS[i]));</del> </td>
                  </tr><tr>
                          <th>542</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>543</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; removeChildrenFromNode(document.getElementById('calendar_all_day_events'));</del> </td>
                  </tr><tr>
                          <th>544</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; removeChildrenFromNode(document.getElementById('calendar_time'));</del> </td>
                  </tr><tr>
                          <th>545</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>546</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>547</th><th> </th><td class="l"><del>function removeChildrenFromNode(node) {</del> </td>
                  </tr><tr>
                          <th>548</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if ((node == undefined) || (node == null))</del> </td>
                  </tr><tr>
                          <th>549</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>550</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>551</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; while (node.hasChildNodes()) {</del> </td>
                  </tr><tr>
                          <th>552</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; node.removeChild(node.firstChild);</del> </td>
                  </tr><tr>
                          <th>553</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>554</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>555</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>556</th><th> </th><td class="l"><del>function updateNewEventTimes(start_time, end_time) {</del> </td>
                  </tr><tr>
                          <th>557</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var start_display2 = (start_time%4)*15;</del> </td>
                  </tr><tr>
                          <th>558</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (start_display2 == '0')</del> </td>
                  </tr><tr>
                          <th>559</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_display2 = '00';</del> </td>
                  </tr><tr>
                          <th>560</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var start_display3 = Math.floor(start_time/4);</del> </td>
                  </tr><tr>
                          <th>561</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (start_display3 &gt; 23)</del> </td>
                  </tr><tr>
                          <th>562</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_display3 -= 24;</del> </td>
                  </tr><tr>
                          <th>563</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var end_display2 = (end_time%4)*15;</del> </td>
                  </tr><tr>
                          <th>564</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (end_display2 == '0')</del> </td>
                  </tr><tr>
                          <th>565</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_display2 = '00';</del> </td>
                  </tr><tr>
                          <th>566</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var end_display3 = Math.floor(end_time/4);</del> </td>
                  </tr><tr>
                          <th>567</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (end_display3 &gt; 23)</del> </td>
                  </tr><tr>
                          <th>568</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_display3 -= 24;</del> </td>
                  </tr><tr>
                          <th>569</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('cal_new_event_times').innerHTML =</del> </td>
                  </tr><tr>
                          <th>570</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_display3 + ':' + start_display2 + " - " +</del> </td>
                  </tr><tr>
                          <th>571</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_display3 + ':' + end_display2;</del> </td>
                  </tr><tr>
                          <th>572</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>573</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>574</th><th> </th><td class="l"><del>function showCreateBox(new_event) {</del> </td>
                  </tr><tr>
                          <th>575</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // If existing, just update it</del> </td>
                  </tr><tr>
                          <th>576</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event_box&nbsp; &nbsp; &nbsp; &nbsp;= document.getElementById('cal_new_event_box');</del> </td>
                  </tr><tr>
                          <th>577</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>578</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event_pos&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= findPos(new_event);</del> </td>
                  </tr><tr>
                          <th>579</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event_parent_pos&nbsp; &nbsp; &nbsp; &nbsp; = findPos(new_event.parentNode);</del> </td>
                  </tr><tr>
                          <th>580</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>581</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event_box.style.display&nbsp; &nbsp; &nbsp;= 'block';</del> </td>
                  </tr><tr>
                          <th>582</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; updateCreateBox(new_event);</del> </td>
                  </tr><tr>
                          <th>583</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>584</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>585</th><th> </th><td class="l"><del>function updateCreateBox(new_event) {</del> </td>
                  </tr><tr>
                          <th>586</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // If not existing don't do anything</del> </td>
                  </tr><tr>
                          <th>587</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event_box&nbsp; &nbsp; &nbsp; &nbsp;= document.getElementById('cal_new_event_box');</del> </td>
                  </tr><tr>
                          <th>588</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (new_event_box.style.display != "none") {</del> </td>
                  </tr><tr>
                          <th>589</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var new_event_pos&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= findPos(new_event);</del> </td>
                  </tr><tr>
                          <th>590</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var new_event_parent_pos&nbsp; &nbsp; &nbsp; &nbsp; = findPos(new_event.parentNode);</del> </td>
                  </tr><tr>
                          <th>591</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>592</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event_box.style.left&nbsp; &nbsp; &nbsp; &nbsp; = (new_event_pos[0]+50) + 'px';</del> </td>
                  </tr><tr>
                          <th>593</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event_box.style.top&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= (new_event_pos[1]+30) + 'px';</del> </td>
                  </tr><tr>
                          <th>594</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>595</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // update the time fields</del> </td>
                  </tr><tr>
                          <th>596</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var evad_date&nbsp; &nbsp;= document.getElementById('evad_date');</del> </td>
                  </tr><tr>
                          <th>597</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var evad_start&nbsp; = document.getElementById('evad_start');</del> </td>
                  </tr><tr>
                          <th>598</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var evad_end&nbsp; &nbsp; = document.getElementById('evad_end');</del> </td>
                  </tr><tr>
                          <th>599</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>600</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Swap stored start and end time if they're the wrong way</del> </td>
                  </tr><tr>
                          <th>601</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var start = CREATE_EVENT_START_TIME;</del> </td>
                  </tr><tr>
                          <th>602</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var end = CREATE_EVENT_END_TIME;</del> </td>
                  </tr><tr>
                          <th>603</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (end &lt; start) {</del> </td>
                  </tr><tr>
                          <th>604</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start = CREATE_EVENT_END_TIME;</del> </td>
                  </tr><tr>
                          <th>605</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end = CREATE_EVENT_START_TIME;</del> </td>
                  </tr><tr>
                          <th>606</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>607</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; evad_date.value = new_event.parentNode.attributes.getNamedItem('name').value;</del> </td>
                  </tr><tr>
                          <th>608</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; evad_start.value = start*15;</del> </td>
                  </tr><tr>
                          <th>609</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; evad_end.value = (end+1)*15;</del> </td>
                  </tr><tr>
                          <th>610</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>611</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>612</th><th> </th><td class="l"><del>function removeCreateBox()</del> </td>
                  </tr><tr>
                          <th>613</th><th> </th><td class="l"><del>{</del> </td>
                  </tr><tr>
                          <th>614</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event_box&nbsp; &nbsp; &nbsp; &nbsp;= document.getElementById('cal_new_event_box');</del> </td>
                  </tr><tr>
                          <th>615</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event_box.style.display&nbsp; &nbsp; &nbsp;= 'none';</del> </td>
                  </tr><tr>
                          <th>616</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>617</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>618</th><th> </th><td class="l"><del>function toggleCreateBox(new_event)</del> </td>
                  </tr><tr>
                          <th>619</th><th> </th><td class="l"><del>{</del> </td>
                  </tr><tr>
                          <th>620</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event_box&nbsp; &nbsp; &nbsp; &nbsp;= document.getElementById('cal_new_event_box');</del> </td>
                  </tr><tr>
                          <th>621</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (new_event_box.style.display == 'none') {</del> </td>
                  </tr><tr>
                          <th>622</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showCreateBox(new_event);</del> </td>
                  </tr><tr>
                          <th>623</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; } else {</del> </td>
                  </tr><tr>
                          <th>624</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event_box.style.display&nbsp; &nbsp; &nbsp;= 'none';</del> </td>
                  </tr><tr>
                          <th>625</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>626</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>627</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>628</th><th> </th><td class="l"><del>function setCreateBoxSummary(new_summary)</del> </td>
                  </tr><tr>
                          <th>629</th><th> </th><td class="l"><del>{</del> </td>
                  </tr><tr>
                          <th>630</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (new_summary == '') {</del> </td>
                  </tr><tr>
                          <th>631</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_summary = 'New event';</del> </td>
                  </tr><tr>
                          <th>632</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>633</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event_heading&nbsp; &nbsp;= document.getElementById('cal_new_event_heading');</del> </td>
                  </tr><tr>
                          <th>634</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (new_event_heading.firstChild) {</del> </td>
                  </tr><tr>
                          <th>635</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event_heading.removeChild(new_event_heading.firstChild);</del> </td>
                  </tr><tr>
                          <th>636</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>637</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event_heading.appendChild(document.createTextNode(new_summary));</del> </td>
                  </tr><tr>
                          <th>638</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>639</th><th> </th><td class="l"><del>function setCreateBoxCategory(new_category)</del> </td>
                  </tr><tr>
                          <th>640</th><th> </th><td class="l"><del>{</del> </td>
                  </tr><tr>
                          <th>641</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var category_name&nbsp; &nbsp; &nbsp; &nbsp;= document.getElementById('evad_category_op_'+new_category);</del> </td>
                  </tr><tr>
                          <th>642</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (category_name) {</del> </td>
                  </tr><tr>
                          <th>643</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; category_name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= category_name.innerHTML;</del> </td>
                  </tr><tr>
                          <th>644</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var new_event&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.getElementById('cal_new_event');</del> </td>
                  </tr><tr>
                          <th>645</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.className&nbsp; &nbsp; &nbsp;= "cal_event new cal_category_"+category_name;</del> </td>
                  </tr><tr>
                          <th>646</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>647</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>648</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>649</th><th> </th><td class="l"><del>function setCreateBoxLocation(new_location)</del> </td>
                  </tr><tr>
                          <th>650</th><th> </th><td class="l"><del>{</del> </td>
                  </tr><tr>
                          <th>651</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event_location&nbsp; = document.getElementById('cal_new_event_location');</del> </td>
                  </tr><tr>
                          <th>652</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (new_event_location.firstChild) {</del> </td>
                  </tr><tr>
                          <th>653</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event_location.removeChild(new_event_location.firstChild);</del> </td>
                  </tr><tr>
                          <th>654</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>655</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event_location.appendChild(document.createTextNode(new_location));</del> </td>
                  </tr><tr>
                          <th>656</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>657</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>658</th><th> </th><td class="l"><del>function clickDay (day,event) {</del> </td>
                  </tr><tr>
                          <th>659</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event = document.getElementById('cal_new_event');</del> </td>
                  </tr><tr>
                          <th>660</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>661</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // Swap stored start and end time if they're the wrong way</del> </td>
                  </tr><tr>
                          <th>662</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (CREATE_EVENT_END_TIME &lt; CREATE_EVENT_START_TIME) {</del> </td>
                  </tr><tr>
                          <th>663</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var tmp = CREATE_EVENT_END_TIME;</del> </td>
                  </tr><tr>
                          <th>664</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_END_TIME = CREATE_EVENT_START_TIME;</del> </td>
                  </tr><tr>
                          <th>665</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_START_TIME = tmp;</del> </td>
                  </tr><tr>
                          <th>666</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>667</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>668</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var pos_relative = findMouse(event)[1] - findPos(day)[1];</del> </td>
                  </tr><tr>
                          <th>669</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; pos_relative = Math.floor((pos_relative - 1 + 2)/(HOUR_HEIGHT/4));</del> </td>
                  </tr><tr>
                          <th>670</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>671</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; DESELECTING_EVENT = false;</del> </td>
                  </tr><tr>
                          <th>672</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (new_event != null) {</del> </td>
                  </tr><tr>
                          <th>673</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DESELECTING_EVENT = new_event.style.display != 'none';</del> </td>
                  </tr><tr>
                          <th>674</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (day != CREATE_EVENT_DAY ||</del> </td>
                  </tr><tr>
                          <th>675</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.style.display == 'none' ||</del> </td>
                  </tr><tr>
                          <th>676</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos_relative + (START_HOUR*4) &lt; CREATE_EVENT_START_TIME ||</del> </td>
                  </tr><tr>
                          <th>677</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos_relative + (START_HOUR*4) &gt; CREATE_EVENT_END_TIME)</del> </td>
                  </tr><tr>
                          <th>678</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>679</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; removeCreateBox();</del> </td>
                  </tr><tr>
                          <th>680</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.parentNode.removeChild(new_event);</del> </td>
                  </tr><tr>
                          <th>681</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</del> </td>
                  </tr><tr>
                          <th>682</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var grab_position = findMouse(event)[1] - findPos(new_event)[1];</del> </td>
                  </tr><tr>
                          <th>683</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var event_height = (CREATE_EVENT_END_TIME - CREATE_EVENT_START_TIME + 1) * (HOUR_HEIGHT/4);</del> </td>
                  </tr><tr>
                          <th>684</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var grab_ratio = grab_position / event_height;</del> </td>
                  </tr><tr>
                          <th>685</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (grab_ratio &gt;= 0.75 &amp;&amp; grab_position &gt; event_height-HOUR_HEIGHT/2) {</del> </td>
                  </tr><tr>
                          <th>686</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT = true;</del> </td>
                  </tr><tr>
                          <th>687</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if (grab_ratio &lt;= 0.25 &amp;&amp; grab_position &lt; HOUR_HEIGHT/2) {</del> </td>
                  </tr><tr>
                          <th>688</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var tmp = CREATE_EVENT_END_TIME;</del> </td>
                  </tr><tr>
                          <th>689</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_END_TIME = CREATE_EVENT_START_TIME;</del> </td>
                  </tr><tr>
                          <th>690</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_START_TIME = tmp;</del> </td>
                  </tr><tr>
                          <th>691</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT = true;</del> </td>
                  </tr><tr>
                          <th>692</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</del> </td>
                  </tr><tr>
                          <th>693</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_MOVE = true;</del> </td>
                  </tr><tr>
                          <th>694</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>695</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_MOVED = false;</del> </td>
                  </tr><tr>
                          <th>696</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_MOVE_GRAB = grab_position;</del> </td>
                  </tr><tr>
                          <th>697</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;</del> </td>
                  </tr><tr>
                          <th>698</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>699</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>700</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_DAY = day;</del> </td>
                  </tr><tr>
                          <th>701</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>702</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var duration = 1.0;</del> </td>
                  </tr><tr>
                          <th>703</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var width = Math.floor(day.offsetWidth-2-5);;</del> </td>
                  </tr><tr>
                          <th>704</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>705</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>706</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 'cal_new_event';</del> </td>
                  </tr><tr>
                          <th>707</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.display = 'none';</del> </td>
                  </tr><tr>
                          <th>708</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.left&nbsp; &nbsp; = findPos(day)[0] + 'px';</del> </td>
                  </tr><tr>
                          <th>709</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.top&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= findPos(day)[1] + ((pos_relative*(HOUR_HEIGHT/4))) + 'px';</del> </td>
                  </tr><tr>
                          <th>710</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.width&nbsp; &nbsp;= width + 'px';</del> </td>
                  </tr><tr>
                          <th>711</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.height&nbsp; = ((duration*HOUR_HEIGHT)-2) + 'px';</del> </td>
                  </tr><tr>
                          <th>712</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.style.cursor&nbsp; = 'move';</del> </td>
                  </tr><tr>
                          <th>713</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.ondblclick&nbsp; &nbsp; = function(){ return showCreateBox(this); };</del> </td>
                  </tr><tr>
                          <th>714</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>715</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var heading&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('a');</del> </td>
                  </tr><tr>
                          <th>716</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; heading.id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 'cal_new_event_heading';</del> </td>
                  </tr><tr>
                          <th>717</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>718</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var heading_div&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>719</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; heading_div.className&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 'cal_event_heading';</del> </td>
                  </tr><tr>
                          <th>720</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; heading_div.appendChild(heading);</del> </td>
                  </tr><tr>
                          <th>721</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>722</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var display&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= (pos_relative + (START_HOUR*4));</del> </td>
                  </tr><tr>
                          <th>723</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_START_TIME = display;</del> </td>
                  </tr><tr>
                          <th>724</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_END_TIME = CREATE_EVENT_START_TIME + 4;</del> </td>
                  </tr><tr>
                          <th>725</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var display2 = (display%4)*15;</del> </td>
                  </tr><tr>
                          <th>726</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (display2 == '0')</del> </td>
                  </tr><tr>
                          <th>727</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display2 = '00';</del> </td>
                  </tr><tr>
                          <th>728</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var display3 = Math.floor(display/4);</del> </td>
                  </tr><tr>
                          <th>729</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (display3 &gt; 23)</del> </td>
                  </tr><tr>
                          <th>730</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display3 -= 24;</del> </td>
                  </tr><tr>
                          <th>731</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var end_display2 = (CREATE_EVENT_END_TIME%4)*15;</del> </td>
                  </tr><tr>
                          <th>732</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (end_display2 == '0')</del> </td>
                  </tr><tr>
                          <th>733</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_display2 = '00';</del> </td>
                  </tr><tr>
                          <th>734</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var end_display3 = Math.floor(CREATE_EVENT_END_TIME/4);</del> </td>
                  </tr><tr>
                          <th>735</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (end_display3 &gt; 23)</del> </td>
                  </tr><tr>
                          <th>736</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_display3 -= 24;</del> </td>
                  </tr><tr>
                          <th>737</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>738</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var times&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>739</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; times.id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 'cal_new_event_times';</del> </td>
                  </tr><tr>
                          <th>740</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; times.className&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 'cal_event_info';</del> </td>
                  </tr><tr>
                          <th>741</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; times.appendChild(document.createTextNode(</del> </td>
                  </tr><tr>
                          <th>742</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display3 + ':' + display2 + " - " + end_display3 + ':' + end_display2));</del> </td>
                  </tr><tr>
                          <th>743</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>744</th><th> </th><td class="l"><del>//&nbsp; &nbsp; &nbsp; times.appendChild(start_time);</del> </td>
                  </tr><tr>
                          <th>745</th><th> </th><td class="l"><del>//&nbsp; &nbsp; &nbsp; times.appendChild(end_time);</del> </td>
                  </tr><tr>
                          <th>746</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>747</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var location_name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= document.createElement('i');</del> </td>
                  </tr><tr>
                          <th>748</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; location_name.id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 'cal_new_event_location';</del> </td>
                  </tr><tr>
                          <th>749</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>750</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var info&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = document.createElement('div');</del> </td>
                  </tr><tr>
                          <th>751</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; info.className&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 'cal_event_info';</del> </td>
                  </tr><tr>
                          <th>752</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; info.id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 'cal_new_event_info';</del> </td>
                  </tr><tr>
                          <th>753</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; info.appendChild(location_name);</del> </td>
                  </tr><tr>
                          <th>754</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>755</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.appendChild(heading_div);</del> </td>
                  </tr><tr>
                          <th>756</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.appendChild(times);</del> </td>
                  </tr><tr>
                          <th>757</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; new_event.appendChild(info);</del> </td>
                  </tr><tr>
                          <th>758</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>759</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; day.appendChild(new_event);</del> </td>
                  </tr><tr>
                          <th>760</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; setCreateBoxSummary(document.getElementById('evad_summary').value);</del> </td>
                  </tr><tr>
                          <th>761</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; setCreateBoxCategory(document.getElementById('evad_category').value);</del> </td>
                  </tr><tr>
                          <th>762</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; setCreateBoxLocation(document.getElementById('evad_location').value);</del> </td>
                  </tr><tr>
                          <th>763</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT = true;</del> </td>
                  </tr><tr>
                          <th>764</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>765</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>766</th><th> </th><td class="l"><del>function moveDay (day, event) {</del> </td>
                  </tr><tr>
                          <th>767</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (CREATE_EVENT) {</del> </td>
                  </tr><tr>
                          <th>768</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var new_event = document.getElementById('cal_new_event');</del> </td>
                  </tr><tr>
                          <th>769</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (new_event == null)</del> </td>
                  </tr><tr>
                          <th>770</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>771</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>772</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>773</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var start_time = CREATE_EVENT_START_TIME - (START_HOUR*4);</del> </td>
                  </tr><tr>
                          <th>774</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var end_time = findMouse(event)[1] - findPos(day)[1];</del> </td>
                  </tr><tr>
                          <th>775</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_time = Math.floor((end_time - 1 + 2)/(HOUR_HEIGHT/4));</del> </td>
                  </tr><tr>
                          <th>776</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (end_time &lt; 0) {</del> </td>
                  </tr><tr>
                          <th>777</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_time = 0;</del> </td>
                  </tr><tr>
                          <th>778</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if (end_time &gt; (END_HOUR-START_HOUR+1)*4-1) {</del> </td>
                  </tr><tr>
                          <th>779</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_time = (END_HOUR-START_HOUR+1)*4-1;</del> </td>
                  </tr><tr>
                          <th>780</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>781</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_END_TIME = end_time + START_HOUR*4;</del> </td>
                  </tr><tr>
                          <th>782</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (end_time &lt; start_time) {</del> </td>
                  </tr><tr>
                          <th>783</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var tmp = start_time;</del> </td>
                  </tr><tr>
                          <th>784</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start_time = end_time;</del> </td>
                  </tr><tr>
                          <th>785</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_time = tmp;</del> </td>
                  </tr><tr>
                          <th>786</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>787</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end_time++;</del> </td>
                  </tr><tr>
                          <th>788</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (end_time - start_time &gt; 2) {</del> </td>
                  </tr><tr>
                          <th>789</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.style.display = 'block';</del> </td>
                  </tr><tr>
                          <th>790</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DESELECTING_EVENT = false;</del> </td>
                  </tr><tr>
                          <th>791</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>792</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.style.top = (findPos(day)[1] + (start_time*(HOUR_HEIGHT/4))) + 'px';</del> </td>
                  </tr><tr>
                          <th>793</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.style.height = (((end_time-start_time)*(HOUR_HEIGHT/4))-2) + 'px';</del> </td>
                  </tr><tr>
                          <th>794</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>795</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateNewEventTimes(start_time+START_HOUR*4, end_time+START_HOUR*4);</del> </td>
                  </tr><tr>
                          <th>796</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateCreateBox(new_event);</del> </td>
                  </tr><tr>
                          <th>797</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>798</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('cal_new_event_times').focus();</del> </td>
                  </tr><tr>
                          <th>799</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>800</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; } else if (CREATE_EVENT_MOVE) {</del> </td>
                  </tr><tr>
                          <th>801</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var new_event = document.getElementById('cal_new_event');</del> </td>
                  </tr><tr>
                          <th>802</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (new_event == null)</del> </td>
                  </tr><tr>
                          <th>803</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>804</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>805</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var event_pos = findPos(new_event)[1];</del> </td>
                  </tr><tr>
                          <th>806</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var move_position = findMouse(event)[1] - event_pos;</del> </td>
                  </tr><tr>
                          <th>807</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; move_position -= CREATE_EVENT_MOVE_GRAB;</del> </td>
                  </tr><tr>
                          <th>808</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (move_position &gt; 0) {</del> </td>
                  </tr><tr>
                          <th>809</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; move_position = Math.floor(move_position / (HOUR_HEIGHT/4));</del> </td>
                  </tr><tr>
                          <th>810</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</del> </td>
                  </tr><tr>
                          <th>811</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; move_position = Math.ceil(move_position / (HOUR_HEIGHT/4));</del> </td>
                  </tr><tr>
                          <th>812</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>813</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (move_position != 0) {</del> </td>
                  </tr><tr>
                          <th>814</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (CREATE_EVENT_START_TIME + move_position &lt; START_HOUR*4) {</del> </td>
                  </tr><tr>
                          <th>815</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; move_position = START_HOUR*4 - CREATE_EVENT_START_TIME;</del> </td>
                  </tr><tr>
                          <th>816</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if (CREATE_EVENT_END_TIME + move_position+1 &gt; (END_HOUR+1)*4) {</del> </td>
                  </tr><tr>
                          <th>817</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; move_position = (END_HOUR+1)*4 - CREATE_EVENT_END_TIME - 1;</del> </td>
                  </tr><tr>
                          <th>818</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>819</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (move_position != 0) {</del> </td>
                  </tr><tr>
                          <th>820</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_MOVED = true;</del> </td>
                  </tr><tr>
                          <th>821</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_START_TIME += move_position;</del> </td>
                  </tr><tr>
                          <th>822</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_END_TIME += move_position;</del> </td>
                  </tr><tr>
                          <th>823</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.style.top = (findPos(day)[1] + (CREATE_EVENT_START_TIME-(START_HOUR*4)) * (HOUR_HEIGHT/4)) + "px";</del> </td>
                  </tr><tr>
                          <th>824</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>825</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateNewEventTimes(CREATE_EVENT_START_TIME, CREATE_EVENT_END_TIME+1);</del> </td>
                  </tr><tr>
                          <th>826</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateCreateBox(new_event);</del> </td>
                  </tr><tr>
                          <th>827</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>828</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>829</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>830</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>831</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>832</th><th> </th><td class="l"><del>function unclickDay(day,event) {</del> </td>
                  </tr><tr>
                          <th>833</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var new_event = document.getElementById('cal_new_event');</del> </td>
                  </tr><tr>
                          <th>834</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (CREATE_EVENT) {</del> </td>
                  </tr><tr>
                          <th>835</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT = false;</del> </td>
                  </tr><tr>
                          <th>836</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (new_event != null &amp;&amp; !DESELECTING_EVENT) {</del> </td>
                  </tr><tr>
                          <th>837</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new_event.style.display = 'block';</del> </td>
                  </tr><tr>
                          <th>838</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateCreateBox(new_event);</del> </td>
                  </tr><tr>
                          <th>839</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>840</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById('cal_new_event_times').focus();</del> </td>
                  </tr><tr>
                          <th>841</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>842</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (CREATE_EVENT_MOVE) {</del> </td>
                  </tr><tr>
                          <th>843</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE_EVENT_MOVE = false;</del> </td>
                  </tr><tr>
                          <th>844</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (new_event) {</del> </td>
                  </tr><tr>
                          <th>845</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!CREATE_EVENT_MOVED) {</del> </td>
                  </tr><tr>
                          <th>846</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // click</del> </td>
                  </tr><tr>
                          <th>847</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; toggleCreateBox(new_event);</del> </td>
                  </tr><tr>
                          <th>848</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</del> </td>
                  </tr><tr>
                          <th>849</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateCreateBox(new_event);</del> </td>
                  </tr><tr>
                          <th>850</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>851</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>852</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>853</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>854</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>855</th><th> </th><td class="l"><del>function in_array(value, a) {</del> </td>
                  </tr><tr>
                          <th>856</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; for (var pos=0; pos&lt;a.length; pos++) {</del> </td>
                  </tr><tr>
                          <th>857</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (a[pos] == value) {</del> </td>
                  </tr><tr>
                          <th>858</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;</del> </td>
                  </tr><tr>
                          <th>859</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>860</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>861</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return false;</del> </td>
                  </tr><tr>
                          <th>862</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>863</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>864</th><th> </th><td class="l"><del>function addEventListener(instance, eventName, listener) {</del> </td>
                  </tr><tr>
                          <th>865</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var listenerFn = listener;</del> </td>
                  </tr><tr>
                          <th>866</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (instance.addEventListener) {</del> </td>
                  </tr><tr>
                          <th>867</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instance.addEventListener(eventName, listenerFn, false);</del> </td>
                  </tr><tr>
                          <th>868</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; } else if (instance.attachEvent) {</del> </td>
                  </tr><tr>
                          <th>869</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; listenerFn = function() {</del> </td>
                  </tr><tr>
                          <th>870</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; listener(window.event);</del> </td>
                  </tr><tr>
                          <th>871</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>872</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instance.attachEvent("on" + eventName, listenerFn);</del> </td>
                  </tr><tr>
                          <th>873</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; } else {</del> </td>
                  </tr><tr>
                          <th>874</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new Error("Event registration not supported");</del> </td>
                  </tr><tr>
                          <th>875</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>876</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return {</del> </td>
                  </tr><tr>
                          <th>877</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instance: instance,</del> </td>
                  </tr><tr>
                          <th>878</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name: eventName,</del> </td>
                  </tr><tr>
                          <th>879</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; listener: listenerFn</del> </td>
                  </tr><tr>
                          <th>880</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; };</del> </td>
                  </tr><tr>
                          <th>881</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>882</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>883</th><th> </th><td class="l"><del>function removeEventListener(event) {</del> </td>
                  </tr><tr>
                          <th>884</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var instance = event.instance;</del> </td>
                  </tr><tr>
                          <th>885</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (instance.removeEventListener) {</del> </td>
                  </tr><tr>
                          <th>886</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instance.removeEventListener(event.name, event.listener, false);</del> </td>
                  </tr><tr>
                          <th>887</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; } else if (instance.detachEvent) {</del> </td>
                  </tr><tr>
                          <th>888</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instance.detachEvent("on" + event.name, event.listener);</del> </td>
                  </tr><tr>
                          <th>889</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>890</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>891</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>892</th><th> </th><td class="l"><del>onLoadFunctions.push(drawCalendar);</del> </td>
                  </tr><tr>
                          <th>893</th><th> </th><td class="l"><del>window.onresize = drawCalendar;</del> </td>
                  </tr><tr class="last">
                          <th>894</th><th> </th><td class="l"><del>//var window_resize = addEventListener(window, "resize", drawCalendar);</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>895</th><th>154</th><td class="l"><span>&lt;/script&gt;</span> </td>
                  </tr><tr>
                          <th>896</th><th>155</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L907">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L166">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>907</th><th>166</th><td class="l"><span>table#calendar_view td#calendar_all_day_events {</span> </td>
                  </tr><tr>
                          <th>908</th><th>167</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; border: 1px #999 solid;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>909</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; height: &lt;?php echo(<del>HOUR_HEIGHT</del>/2); ?&gt;px;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>168</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; height: &lt;?php echo(<ins>$HourHeight</ins>/2); ?&gt;px;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>910</th><th>169</th><td class="l"><span>}</span> </td>
                  </tr><tr>
                          <th>911</th><th>170</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L935">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L194">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>935</th><th>194</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>936</th><th>195</th><td class="l"><span>table#calendar_view td#calendar_time div {</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>937</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; height: &lt;?php echo(<del>HOUR_HEIGHT</del>); ?&gt;px;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>196</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; height: &lt;?php echo(<ins>$HourHeight</ins>); ?&gt;px;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>938</th><th>197</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; text-align: right;</span> </td>
                  </tr><tr>
                          <th>939</th><th>198</th><td class="l"><span>}</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L943">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L202">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>943</th><th>202</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; background-image: url('/images/prototype/calendar/grid2.gif');</span> </td>
                  </tr><tr>
                          <th>944</th><th>203</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; background-position: top left;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>945</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; height: &lt;?php echo(24*<del>HOUR_HEIGHT</del>); ?&gt;px;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>204</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; height: &lt;?php echo(24*<ins>$HourHeight</ins>); ?&gt;px;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>946</th><th>205</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; width: &lt;?php echo(floor(100/count($Days))); ?&gt;%;</span> </td>
                  </tr><tr>
                          <th>947</th><th>206</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; vertical-align: top;</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L1021">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L280">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>1021</th><th>280</th><td class="l"><span>div.cal_new_event_box h2 {</span> </td>
                  </tr><tr>
                          <th>1022</th><th>281</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; margin: 2px 4px;</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>282</th><td class="r"><ins>}</ins> </td>
                  </tr><tr>
                          <th> </th><th>283</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>284</th><td class="r"><ins>table#calendar_view div.cal_event div.cal_event_info {</ins> </td>
                  </tr><tr>
                          <th> </th><th>285</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; font-size: x-small;</ins> </td>
                  </tr><tr>
                          <th> </th><th>286</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; padding: 0 2px;</ins> </td>
                  </tr><tr>
                          <th> </th><th>287</th><td class="r"><ins>}</ins> </td>
                  </tr><tr>
                          <th> </th><th>288</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>289</th><td class="r"><ins>table#calendar_view div.cal_event_split_top {</ins> </td>
                  </tr><tr>
                          <th> </th><th>290</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; border-top: 0;</ins> </td>
                  </tr><tr>
                          <th> </th><th>291</th><td class="r"><ins>}</ins> </td>
                  </tr><tr>
                          <th> </th><th>292</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>293</th><td class="r"><ins>table#calendar_view div.cal_event_split_bottom {</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>294</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; border-bottom: 0;</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1023</th><th>295</th><td class="l"><span>}</span> </td>
                  </tr><tr>
                          <th>1024</th><th>296</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L1039">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L311">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>1039</th><th>311</th><td class="l"><span>&lt;?php } ?&gt;</span> </td>
                  </tr><tr>
                          <th>1040</th><th>312</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>1041</th><th> </th><td class="l"><del>table#calendar_view div.cal_event div.cal_event_info {</del> </td>
                  </tr><tr>
                          <th>1042</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; font-size: x-small;</del> </td>
                  </tr><tr>
                          <th>1043</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; padding: 0 2px;</del> </td>
                  </tr><tr>
                          <th>1044</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>1045</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1046</th><th> </th><td class="l"><del>table#calendar_view div.cal_event_split_top {</del> </td>
                  </tr><tr>
                          <th>1047</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; border-top: 0;</del> </td>
                  </tr><tr>
                          <th>1048</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>1049</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1050</th><th> </th><td class="l"><del>table#calendar_view div.cal_event_split_bottom {</del> </td>
                  </tr><tr>
                          <th>1051</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; border-bottom: 0;</del> </td>
                  </tr><tr class="last">
                          <th>1052</th><th> </th><td class="l"><del>}</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1053</th><th>313</th><td class="l"><span>&lt;/style&gt;</span> </td>
                  </tr><tr>
                          <th>1054</th><th>314</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L1181">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L441">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>1181</th><th>441</th><td class="l"><span>&lt;?php if ($AllowEventCreate) { ?&gt;</span> </td>
                  </tr><tr>
                          <th>1182</th><th>442</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;div id="cal_new_event_box" class="cal_new_event_box" style="display:none;"&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>1183</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;h2&gt;<del>C</del>reate new event&lt;/h2&gt;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>443</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;h2&gt;<ins>c</ins>reate new event&lt;/h2&gt;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1184</th><th>444</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;form class="form" method="post" action="&lt;?php echo(site_url($Path-&gt;EventCreateQuickRaw(0)).get_instance()-&gt;uri-&gt;uri_string()); ?&gt;"&gt;</span> </td>
                  </tr><tr>
                          <th>1185</th><th>445</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;fieldset&gt;</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=e02a265b2f126fee4e1f010b3032a9c708559338#L1211">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/days.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L471">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>1211</th><th>471</th><td class="l"><span>&lt;?php } ?&gt;</span> </td>
                  </tr><tr>
                          <th>1212</th><th>472</th><td class="l"><span>&lt;/div&gt;</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>1213</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1214</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1215</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1216</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1217</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1218</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1219</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1220</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1221</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1222</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1223</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1224</th><th> </th><td class="l"><del>&lt;?php /* ?&gt;</del> </td>
                  </tr><tr>
                          <th>1225</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1226</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1227</th><th> </th><td class="l"><del>&lt;div class="BlueBox"&gt;</del> </td>
                  </tr><tr>
                          <th>1228</th><th> </th><td class="l"><del>&lt;?php</del> </td>
                  </tr><tr>
                          <th>1229</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1230</th><th> </th><td class="l"><del>echo('&lt;div align="center"&gt;');</del> </td>
                  </tr><tr>
                          <th>1231</th><th> </th><td class="l"><del>if (isset($BackwardUrl)) {</del> </td>
                  </tr><tr>
                          <th>1232</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;a href="'.$BackwardUrl.'"&gt;&lt;img src="'.site_url('images/prototype/calendar/backward.gif').'" alt="Backward" /&gt;&lt;/a&gt; ');</del> </td>
                  </tr><tr>
                          <th>1233</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>1234</th><th> </th><td class="l"><del>if (isset($NowUrl)) {</del> </td>
                  </tr><tr>
                          <th>1235</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;a href="'.$NowUrl.'"&gt;'.$NowUrlLabel.'&lt;/a&gt; ');</del> </td>
                  </tr><tr>
                          <th>1236</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>1237</th><th> </th><td class="l"><del>if (isset($ForwardUrl)) {</del> </td>
                  </tr><tr>
                          <th>1238</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;a href="'.$ForwardUrl.'"&gt;&lt;img src="'.site_url('images/prototype/calendar/forward.gif').'" alt="Forward" /&gt;&lt;/a&gt; ');</del> </td>
                  </tr><tr>
                          <th>1239</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>1240</th><th> </th><td class="l"><del>echo('&lt;/div&gt;');</del> </td>
                  </tr><tr>
                          <th>1241</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1242</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1243</th><th> </th><td class="l"><del>echo('&lt;table id="calviewCalTable" border="0" cellpadding="0" cellspacing="0" width="100%"&gt;');</del> </td>
                  </tr><tr>
                          <th>1244</th><th> </th><td class="l"><del>echo('&lt;tr&gt;');</del> </td>
                  </tr><tr>
                          <th>1245</th><th> </th><td class="l"><del>foreach ($Days as $date =&gt; $times) {</del> </td>
                  </tr><tr>
                          <th>1246</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;th class="calviewCalHeadingCell"&gt;');</del> </td>
                  </tr><tr>
                          <th>1247</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;a href="'.$times['link'].'"&gt;');</del> </td>
                  </tr><tr>
                          <th>1248</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo($times['date']-&gt;Format('l'));</del> </td>
                  </tr><tr>
                          <th>1249</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;br /&gt;');</del> </td>
                  </tr><tr>
                          <th>1250</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo($times['date']-&gt;Format('jS M'));</del> </td>
                  </tr><tr>
                          <th>1251</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;/a&gt;');</del> </td>
                  </tr><tr>
                          <th>1252</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;/th&gt;');</del> </td>
                  </tr><tr>
                          <th>1253</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>1254</th><th> </th><td class="l"><del>echo('&lt;/tr&gt;&lt;tr&gt;');</del> </td>
                  </tr><tr>
                          <th>1255</th><th> </th><td class="l"><del>foreach ($Days as $date =&gt; $day) {</del> </td>
                  </tr><tr>
                          <th>1256</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; $times = $day['events'];</del> </td>
                  </tr><tr>
                          <th>1257</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;td&gt;');</del> </td>
                  </tr><tr>
                          <th>1258</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (array_key_exists('000000',$times)) {</del> </td>
                  </tr><tr>
                          <th>1259</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($times['000000'] as $occurrence) {</del> </td>
                  </tr><tr>
                          <th>1260</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!$occurrence-&gt;TimeAssociated) {</del> </td>
                  </tr><tr>
                          <th>1261</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $CI-&gt;load-&gt;view('calendar/occurrence_cell', array(</del> </td>
                  </tr><tr>
                          <th>1262</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Occurrence' =&gt; &amp; $occurrence,</del> </td>
                  </tr><tr>
                          <th>1263</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Categories' =&gt; &amp; $Categories,</del> </td>
                  </tr><tr>
                          <th>1264</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Squash' =&gt; $squash,</del> </td>
                  </tr><tr>
                          <th>1265</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'ReadOnly' =&gt; $ReadOnly,</del> </td>
                  </tr><tr>
                          <th>1266</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Path' =&gt; $Path,</del> </td>
                  </tr><tr>
                          <th>1267</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ));</del> </td>
                  </tr><tr>
                          <th>1268</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>1269</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>1270</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>1271</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;/td&gt;');</del> </td>
                  </tr><tr>
                          <th>1272</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>1273</th><th> </th><td class="l"><del>echo('&lt;/tr&gt;&lt;tr&gt;');</del> </td>
                  </tr><tr>
                          <th>1274</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1275</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1276</th><th> </th><td class="l"><del>$TEST_OUTPUT = '';</del> </td>
                  </tr><tr>
                          <th>1277</th><th> </th><td class="l"><del>foreach ($Days as $date =&gt; $day) {</del> </td>
                  </tr><tr>
                          <th>1278</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; $TEST_OUTPUT .= "----- ".$date."-----\n";</del> </td>
                  </tr><tr>
                          <th>1279</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; $times = $day['events'];</del> </td>
                  </tr><tr>
                          <th>1280</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;td class="calviewCalEventsCell"&gt;');</del> </td>
                  </tr><tr>
                          <th>1281</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; foreach ($times as $time =&gt; $ocs) {</del> </td>
                  </tr><tr>
                          <th>1282</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($ocs as $occurrence) {</del> </td>
                  </tr><tr>
                          <th>1283</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($occurrence-&gt;TimeAssociated) {</del> </td>
                  </tr><tr>
                          <th>1284</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $TEST_OUTPUT .= "-&gt; EVENT &lt;-\n";</del> </td>
                  </tr><tr>
                          <th>1285</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $TEST_OUTPUT .= print_r($occurrence, TRUE);</del> </td>
                  </tr><tr>
                          <th>1286</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $TEST_OUTPUT .= "\n\n";</del> </td>
                  </tr><tr>
                          <th>1287</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $CI-&gt;load-&gt;view('calendar/occurrence_cell', array(</del> </td>
                  </tr><tr>
                          <th>1288</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Occurrence' =&gt; &amp; $occurrence,</del> </td>
                  </tr><tr>
                          <th>1289</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Categories' =&gt; &amp; $Categories,</del> </td>
                  </tr><tr>
                          <th>1290</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Squash' =&gt; $squash,</del> </td>
                  </tr><tr>
                          <th>1291</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'ReadOnly' =&gt; $ReadOnly,</del> </td>
                  </tr><tr>
                          <th>1292</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'Path' =&gt; $Path,</del> </td>
                  </tr><tr>
                          <th>1293</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ));</del> </td>
                  </tr><tr>
                          <th>1294</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>1295</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>1296</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>1297</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; $TEST_OUTPUT .= "\n\n\n\n\n\n\n";</del> </td>
                  </tr><tr>
                          <th>1298</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;/td&gt;');</del> </td>
                  </tr><tr>
                          <th>1299</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>1300</th><th> </th><td class="l"><del>echo('&lt;/tr&gt;');</del> </td>
                  </tr><tr>
                          <th>1301</th><th> </th><td class="l"><del>echo('&lt;/table&gt;');</del> </td>
                  </tr><tr>
                          <th>1302</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1303</th><th> </th><td class="l"><del>//echo('&lt;pre&gt;');</del> </td>
                  </tr><tr>
                          <th>1304</th><th> </th><td class="l"><del>//print($TEST_OUTPUT);</del> </td>
                  </tr><tr>
                          <th>1305</th><th> </th><td class="l"><del>//echo('&lt;/pre&gt;');</del> </td>
                  </tr><tr>
                          <th>1306</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>1307</th><th> </th><td class="l"><del>//print('&lt;pre&gt;');</del> </td>
                  </tr><tr>
                          <th>1308</th><th> </th><td class="l"><del>//print_r($Occurrences);</del> </td>
                  </tr><tr>
                          <th>1309</th><th> </th><td class="l"><del>//print('&lt;/pre&gt;');</del> </td>
                  </tr><tr>
                          <th>1310</th><th> </th><td class="l"><del>?&gt;</del> </td>
                  </tr><tr class="last">
                          <th>1311</th><th> </th><td class="l"><del>&lt;?php //*/ ?&gt;</del> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file3">
          <a title="Show the changeset ce4fe5b8aced94989f3f19af8125eb430b44f226 restricted to system/application/views/calendar/my_calendar.php" href="http://dev2.theyorker.co.uk/trac/changeset/ce4fe5b8aced94989f3f19af8125eb430b44f226/system/application/views/calendar/my_calendar.php">system/application/views/calendar/my_calendar.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision ebfc2e7ced64e250827028b1caf611ee8859a953">
                    <a title="Show revision ebfc2e7ced64e250827028b1caf611ee8859a953 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/my_calendar.php?rev=ebfc2e7ced64e250827028b1caf611ee8859a953#L50">
                      rebfc2</a>
                  </th>
                  <th title="Revision ce4fe5b8aced94989f3f19af8125eb430b44f226">
                    <a title="Show revision ce4fe5b8aced94989f3f19af8125eb430b44f226 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/calendar/my_calendar.php?rev=ce4fe5b8aced94989f3f19af8125eb430b44f226#L50">
                      rce4fe</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>50</th><th>50</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;a class="CalendarButtons" href="'.$filter['link'].'"&gt;');</span> </td>
                  </tr><tr>
                          <th>51</th><th>51</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>52</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;img src="'.$filter[$filter['selected']?'selected_image':'unselected_image'].'" alt="'.$filter['name'].'" <del></del>/&gt;');</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>52</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;img src="'.$filter[$filter['selected']?'selected_image':'unselected_image'].'" alt="'.$filter['name'].'" <ins>title="'.$filter['name'].'" </ins>/&gt;');</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>53</th><th>53</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (array_key_exists('link', $filter)) {</span> </td>
                  </tr><tr>
                          <th>54</th><th>54</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo('&lt;/a&gt;');</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="http://dev2.theyorker.co.uk/trac/changeset/ce4fe5b8aced94989f3f19af8125eb430b44f226?format=diff&new=ce4fe5b8aced94989f3f19af8125eb430b44f226" class="diff">Unified Diff</a>
        </li><li class="last">
          <a rel="nofollow" href="http://dev2.theyorker.co.uk/trac/changeset/ce4fe5b8aced94989f3f19af8125eb430b44f226?format=zip&new=ce4fe5b8aced94989f3f19af8125eb430b44f226" class="zip">Zip Archive</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../about.html"><strong>Trac 0.11.1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>