<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  

  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>
      Changeset 165b053650cc798921b3a7dc5a16336620e1c8ba –
      The Yorker
    </title>
        <link rel="search" href="../search.html" />
        <link rel="prev" href="http://dev2.theyorker.co.uk/trac/changeset/ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1" title="Changeset ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1" />
        <link rel="last" href="4663e7077f9a41a86111194402f498613109bfa4.html" title="Changeset 4663e7077f9a41a86111194402f498613109bfa4" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba?format=diff&new=165b053650cc798921b3a7dc5a16336620e1c8ba" type="text/plain" class="diff" title="Unified Diff" /><link rel="alternate" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba?format=zip&new=165b053650cc798921b3a7dc5a16336620e1c8ba" type="application/zip" class="zip" title="Zip Archive" />
        <link rel="next" href="b19459fd96d36b672fbd04cce2b6852ccd62245a.html" title="Changeset b19459fd96d36b672fbd04cce2b6852ccd62245a" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/changeset.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/diff.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/code.css" type="text/css" />
        <link rel="first" href="8f01cfef778eb063e661839b60a7226601ef07b1.html" title="Changeset 8f01cfef778eb063e661839b60a7226601ef07b1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search The Yorker" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/diff.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("li.entry h2 a").parent().addAnchor("Link to this diff");
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../trac.html"><img src="../../apps-logo.png" alt="The Yorker" /></a>
      </div>
      <form id="search" action="/trac/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first">logged in as nick_evans</li><li><a href="../../trac.html">Logout</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../browser.html">Browse Source</a></li><li><a href="../report.html">View Tickets</a></li><li><a href="../newticket.html">New Ticket</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
            <li class="first "><span>&larr; <a class="prev" href="http://dev2.theyorker.co.uk/trac/changeset/ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1" title="Changeset ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1">Previous Changeset</a></span></li><li class="last"><span><a class="next" href="b19459fd96d36b672fbd04cce2b6852ccd62245a.html" title="Changeset b19459fd96d36b672fbd04cce2b6852ccd62245a">Next Changeset</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="changeset">
      <div id="title">
        <h1>Changeset 165b053650cc798921b3a7dc5a16336620e1c8ba</h1>
      </div>
      <form id="prefs" action="">
        <div>
    <label for="style">View differences</label>
    <select id="style" name="style">
      <option selected="selected" value="inline">inline</option>
      <option value="sidebyside">side by side</option>
    </select>
    <div class="field">
      Show <input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
      <label for="contextlines">lines around each change</label>
    </div>
    <fieldset id="ignore">
      <legend>Ignore:</legend>
      <div class="field">
        <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
        <label for="ignoreblanklines">Blank lines</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorecase" name="ignorecase" />
        <label for="ignorecase">Case changes</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
        <label for="ignorewhitespace">White space changes</label>
      </div>
    </fieldset>
    <div class="buttons">
      <input type="submit" name="update" value="Update" />
    </div>
        </div>
      </form>
      <dl id="overview">
          <dt class="property time">Timestamp:</dt>
          <dd class="time">01/12/08 18:25:27 (<a class="timeline" href="../timeline-from=2008-01-12T18-25-27Z+0000&precision=second.html" title="2008-01-12T18:25:27Z+0000 in Timeline">8 years</a> ago)</dd>
          <dt class="property author">Author:</dt>
          <dd class="author">Andrew Oakley &lt;ado@…&gt;</dd>
              <dt class="property">Parents:</dt>
              <dd><a class="changeset" href="http://dev2.theyorker.co.uk/trac/changeset/ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1" title="Started cleanup of unused CodeIgniter stuff so that we can actually work  ...">ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1</a></dd>
              <dt class="property">Children:</dt>
              <dd><a class="changeset" href="b19459fd96d36b672fbd04cce2b6852ccd62245a.html" title="Extra changes i missed in my last CI cleanup commit">b19459fd96d36b672fbd04cce2b6852ccd62245a</a></dd>
              <dt class="property">git-committer:</dt>
              <dd>Andrew Oakley &lt;ado@theyorker.co.uk&gt; / 2008-01-12T18:25:27Z+0000</dd>
          <dt class="property message">Message:</dt>
          <dd class="message searchable">
            
            
              <p>
Removed more unused <a class="missing wiki" href="../wiki/CodeIgniter.html" rel="nofollow">CodeIgniter?</a> stuff, added a library which is used by some o fthe content back in.<br />
</p>

            
            
          </dd>
          <dt class="property location">Location:</dt>
          <dd class="searchable"><a href="http://dev2.theyorker.co.uk/trac/browser/system?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">system</a></dd>
        <dt class="property files">Files:</dt>
        <dd class="files">
          <div class="legend" id="file-legend">
            <dl>
              <dt class="add"></dt><dd>1 added</dd>
              <dt class="rem"></dt><dd>16 removed</dd>
              <dt class="mod"></dt><dd>13 modified</dd>
            </dl>
          </div>
          <br />
          <ul>
            <li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/config/autoload.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              application/config/autoload.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file0">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/account.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              application/controllers/account.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file1">3 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/links.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              application/controllers/office/links.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file2">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              application/libraries/Image_upload.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file3">4 diffs</a>)
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/Base5.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              codeigniter/Base5.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/CodeIgniter.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              codeigniter/CodeIgniter.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file5">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/Common.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              codeigniter/Common.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file6">1 diff</a>)
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/database/DB_cache.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              database/DB_cache.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/database/drivers/sqlite/index.html?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              database/drivers/sqlite/index.html
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/database/drivers/sqlite/sqlite_driver.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              database/drivers/sqlite/sqlite_driver.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/database/drivers/sqlite/sqlite_result.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              database/drivers/sqlite/sqlite_result.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/database/drivers/sqlite/sqlite_utility.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              database/drivers/sqlite/sqlite_utility.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/helpers/file_helper.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              helpers/file_helper.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file12">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/helpers/url_helper.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              helpers/url_helper.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file13">1 diff</a>)
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/helpers/xml_helper.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              helpers/xml_helper.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/language/english/email_lang.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              language/english/email_lang.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/language/english/ftp_lang.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              language/english/ftp_lang.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/language/english/index.html?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              language/english/index.html
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/language/english/profiler_lang.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              language/english/profiler_lang.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/language/english/scaffolding_lang.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              language/english/scaffolding_lang.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 327f3453b4e9372bd8b4dd9a7722e3e97923e59c)" href="http://dev2.theyorker.co.uk/trac/browser/system/language/english/unit_test_lang.php?rev=327f3453b4e9372bd8b4dd9a7722e3e97923e59c">
              language/english/unit_test_lang.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/language/index.html?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              language/index.html
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              libraries/Config.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file22">4 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              libraries/Controller.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file23">4 diffs</a>)
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Input.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              libraries/Input.php
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Loader.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              libraries/Loader.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file25">1 diff</a>)
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Profiler.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              libraries/Profiler.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Router.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              libraries/Router.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file27">1 diff</a>)
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 90f5f1177c7fd30b5a988c4b9627e389f296923b)" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Unit_test.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b">
              libraries/Unit_test.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Validation.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba">
              libraries/Validation.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="165b053650cc798921b3a7dc5a16336620e1c8ba.html#file29">1 diff</a>)
            </li>
          </ul>
        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file0">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/application/config/autoload.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/application/config/autoload.php">system/application/config/autoload.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 327f3453b4e9372bd8b4dd9a7722e3e97923e59c">
                    <a title="Show revision 327f3453b4e9372bd8b4dd9a7722e3e97923e59c of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/config/autoload.php?rev=327f3453b4e9372bd8b4dd9a7722e3e97923e59c#L80">
                      r327f3</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/config/autoload.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L80">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>80</th><th>80</th><td class="l"><span>$autoload['config'] = array('yorker');</span> </td>
                  </tr><tr>
                          <th>81</th><th>81</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>82</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>83</th><th> </th><td class="l"><del>/*</del> </td>
                  </tr><tr>
                          <th>84</th><th> </th><td class="l"><del>| -------------------------------------------------------------------</del> </td>
                  </tr><tr>
                          <th>85</th><th> </th><td class="l"><del>|&nbsp; Auto-load Core Libraries</del> </td>
                  </tr><tr>
                          <th>86</th><th> </th><td class="l"><del>| -------------------------------------------------------------------</del> </td>
                  </tr><tr>
                          <th>87</th><th> </th><td class="l"><del>|</del> </td>
                  </tr><tr>
                          <th>88</th><th> </th><td class="l"><del>| DEPRECATED:&nbsp; Use $autoload['libraries'] above instead.</del> </td>
                  </tr><tr>
                          <th>89</th><th> </th><td class="l"><del>|</del> </td>
                  </tr><tr>
                          <th>90</th><th> </th><td class="l"><del>*/</del> </td>
                  </tr><tr>
                          <th>91</th><th> </th><td class="l"><del>// $autoload['core'] = array();</del> </td>
                  </tr><tr>
                          <th>92</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr class="last">
                          <th>93</th><th> </th><td class="l"><del></del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>94</th><th>82</th><td class="l"><span>?&gt;</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file1">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/application/controllers/account.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/application/controllers/account.php">system/application/controllers/account.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 327f3453b4e9372bd8b4dd9a7722e3e97923e59c">
                    <a title="Show revision 327f3453b4e9372bd8b4dd9a7722e3e97923e59c of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/account.php?rev=327f3453b4e9372bd8b4dd9a7722e3e97923e59c#L294">
                      r327f3</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/account.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L294">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>294</th><th>294</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;Links_Model-&gt;ReplaceImage($newId, $this-&gt;user_auth-&gt;entityId, $chosenImageID);</span> </td>
                  </tr><tr>
                          <th>295</th><th>295</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddMessage('success', 'Link added successfully.');</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>296</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/links'<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>296</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/links'<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>297</th><th>297</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } elseif ($this-&gt;input-&gt;post('image_pick') == 'custom') {</span> </td>
                  </tr><tr>
                          <th>298</th><th>298</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $_SESSION['img'] = array();</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/account.php?rev=327f3453b4e9372bd8b4dd9a7722e3e97923e59c#L300">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/account.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L300">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>300</th><th>300</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span> </td>
                  </tr><tr>
                          <th>301</th><th>301</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddMessage('error', 'Please select either a custom or gallery image.');</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>302</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/customlink'<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>302</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/customlink'<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>303</th><th>303</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>304</th><th>304</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if($this-&gt;input-&gt;post('lurl')) {</span> </td>
                  </tr><tr>
                          <th>305</th><th>305</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddMessage('error', 'Please enter a name for your link.');</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>306</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/customlink'<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>306</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/customlink'<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>307</th><th>307</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>308</th><th>308</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } elseif ($action == 'addimage') {</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/account.php?rev=327f3453b4e9372bd8b4dd9a7722e3e97923e59c#L312">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/account.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L312">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>312</th><th>312</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;Links_Model-&gt;ReplaceImage($id, $this-&gt;user_auth-&gt;entityId, $newImage['list']);</span> </td>
                  </tr><tr>
                          <th>313</th><th>313</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddMessage('success', 'Link added successfully.');</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>314</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/links'<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>314</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/links'<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>315</th><th>315</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span> </td>
                  </tr><tr>
                          <th>316</th><th>316</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>317</th><th>317</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>318</th><th>318</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddMessage('error', 'The link image was not added.');</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>319</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/customlink'<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>319</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/account/customlink'<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>320</th><th>320</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>321</th><th>321</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file2">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/application/controllers/office/links.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/application/controllers/office/links.php">system/application/controllers/office/links.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 60f64ff8b28f353172ea79457b0c3a7d5febe659">
                    <a title="Show revision 60f64ff8b28f353172ea79457b0c3a7d5febe659 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/links.php?rev=60f64ff8b28f353172ea79457b0c3a7d5febe659#L130">
                      r60f64</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/links.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L130">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>130</th><th>130</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddMessage('success', 'Image Uploaded Successfully');</span> </td>
                  </tr><tr>
                          <th>131</th><th>131</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>132</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/office/links'<del>, 'location');</del></span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>132</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/office/links'<ins>)</ins></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>133</th><th>133</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>134</th><th>134</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } elseif($this-&gt;input-&gt;post('lurl') &amp;&amp; !$this-&gt;input-&gt;post('lname')) {</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file3">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/application/libraries/Image_upload.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/application/libraries/Image_upload.php">system/application/libraries/Image_upload.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 951a75bdfa32f37236df261610bbe8295f37e5a4">
                    <a title="Show revision 951a75bdfa32f37236df261610bbe8295f37e5a4 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=951a75bdfa32f37236df261610bbe8295f37e5a4#L86">
                      r951a7</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L86">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>86</th><th>86</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! $this-&gt;ci-&gt;upload-&gt;do_upload('userfile'.$x)) {</span> </td>
                  </tr><tr>
                          <th>87</th><th>87</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;ci-&gt;main_frame-&gt;AddMessage('error', $this-&gt;ci-&gt;upload-&gt;display_errors());</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>88</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect($returnPath<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>88</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect($returnPath<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>89</th><th>89</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span> </td>
                  </tr><tr>
                          <th>90</th><th>90</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $data[] = $this-&gt;ci-&gt;upload-&gt;data();</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=951a75bdfa32f37236df261610bbe8295f37e5a4#L92">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L92">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>92</th><th>92</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!$data[$x - 1]['is_image']) {</span> </td>
                  </tr><tr>
                          <th>93</th><th>93</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;ci-&gt;main_frame-&gt;AddMessage('error', 'The uploaded file was not an image.');</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>94</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect($returnPath<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>94</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect($returnPath<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>95</th><th>95</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } elseif ($this-&gt;checkImageProperties($data[$x - 1], $query, $photo)) {</span> </td>
                  </tr><tr>
                          <th>96</th><th>96</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // fix for Microsoft's Stupidity</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=951a75bdfa32f37236df261610bbe8295f37e5a4#L105">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L105">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>105</th><th>105</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //redirect back home</span> </td>
                  </tr><tr>
                          <th>106</th><th>106</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;ci-&gt;main_frame-&gt;AddMessage('error', 'The image you uploaded is too small');</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>107</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect($returnPath<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>107</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect($returnPath<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>108</th><th>108</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span> </td>
                  </tr><tr>
                          <th>109</th><th>109</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //just display error</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=951a75bdfa32f37236df261610bbe8295f37e5a4#L165">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/libraries/Image_upload.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L165">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>165</th><th>165</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($result-&gt;num_rows() != 1) {</span> </td>
                  </tr><tr>
                          <th>166</th><th>166</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;ci-&gt;user_auth-&gt;logout();</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>167</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/'<del>, 'location'</del>);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>167</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redirect('/'<ins></ins>);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>168</th><th>168</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //TODO add some kind of logging</span> </td>
                  </tr><tr>
                          <th>169</th><th>169</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exit;</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file5">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/codeigniter/CodeIgniter.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/codeigniter/CodeIgniter.php">system/codeigniter/CodeIgniter.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1">
                    <a title="Show revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/CodeIgniter.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L1">
                      ref5fc</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/CodeIgniter.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L1">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>1</th><th>1</th><td class="l"><span>&lt;?php</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>2</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr class="last">
                          <th>3</th><th> </th><td class="l"><del>define('APPVER', '0.1');</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>4</th><th>2</th><td class="l"><span>require(BASEPATH.'codeigniter/Common'.EXT);</span> </td>
                  </tr><tr>
                          <th>5</th><th>3</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/CodeIgniter.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L8">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/CodeIgniter.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L6">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>8</th><th>6</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>9</th><th>7</th><td class="l"><span>$RTR =&amp; load_class('Router');</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>10</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr class="last">
                          <th>11</th><th> </th><td class="l"><del>require(BASEPATH.'codeigniter/Base5'.EXT);</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>12</th><th>8</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>13</th><th>9</th><td class="l"><span>load_class('Controller', FALSE);</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file6">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/codeigniter/Common.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/codeigniter/Common.php">system/codeigniter/Common.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1">
                    <a title="Show revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/Common.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L1">
                      ref5fc</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/codeigniter/Common.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L1">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="mod">
                      <tr class="first">
                        <th>1</th><th> </th><td class="l"><span>&lt;?php&nbsp; if (!defined('BASEPATH')) exit('No direct script access allowed');</span> </td>
                      </tr><tr>
                        <th>2</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>3</th><th> </th><td class="l"><span>&nbsp;* Code Igniter</span> </td>
                      </tr><tr>
                        <th>4</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>5</th><th> </th><td class="l"><span>&nbsp;* An open source application development framework for PHP 4.3.2 or newer</span> </td>
                      </tr><tr>
                        <th>6</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>7</th><th> </th><td class="l"><span>&nbsp;* @package&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CodeIgniter</span> </td>
                      </tr><tr>
                        <th>8</th><th> </th><td class="l"><span>&nbsp;* @author&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rick Ellis</span> </td>
                      </tr><tr>
                        <th>9</th><th> </th><td class="l"><span>&nbsp;* @copyright&nbsp; &nbsp;Copyright (c) 2006, pMachine, Inc.</span> </td>
                      </tr><tr>
                        <th>10</th><th> </th><td class="l"><span>&nbsp;* @license&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://www.codeignitor.com/user_guide/license.html</span> </td>
                      </tr><tr>
                        <th>11</th><th> </th><td class="l"><span>&nbsp;* @link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://www.codeigniter.com</span> </td>
                      </tr><tr>
                        <th>12</th><th> </th><td class="l"><span>&nbsp;* @since&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Version 1.0</span> </td>
                      </tr><tr>
                        <th>13</th><th> </th><td class="l"><span>&nbsp;* @filesource</span> </td>
                      </tr><tr>
                        <th>14</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>1</th><td class="r"><span>&lt;?php</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>15</th><th>2</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>16</th><th>3</th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file12">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/helpers/file_helper.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/helpers/file_helper.php">system/helpers/file_helper.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 90f5f1177c7fd30b5a988c4b9627e389f296923b">
                    <a title="Show revision 90f5f1177c7fd30b5a988c4b9627e389f296923b of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/helpers/file_helper.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b#L1">
                      r90f5f1</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/helpers/file_helper.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L1">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="mod">
                      <tr class="first">
                        <th>1</th><th> </th><td class="l"><span>&lt;?php&nbsp; if (!defined('BASEPATH')) exit('No direct script access allowed');</span> </td>
                      </tr><tr>
                        <th>2</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>3</th><th> </th><td class="l"><span>&nbsp;* Code Igniter</span> </td>
                      </tr><tr>
                        <th>4</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>5</th><th> </th><td class="l"><span>&nbsp;* An open source application development framework for PHP 4.3.2 or newer</span> </td>
                      </tr><tr>
                        <th>6</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>7</th><th> </th><td class="l"><span>&nbsp;* @package&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CodeIgniter</span> </td>
                      </tr><tr>
                        <th>8</th><th> </th><td class="l"><span>&nbsp;* @author&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rick Ellis</span> </td>
                      </tr><tr>
                        <th>9</th><th> </th><td class="l"><span>&nbsp;* @copyright&nbsp; &nbsp;Copyright (c) 2006, pMachine, Inc.</span> </td>
                      </tr><tr>
                        <th>10</th><th> </th><td class="l"><span>&nbsp;* @license&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://www.codeignitor.com/user_guide/license.html</span> </td>
                      </tr><tr>
                        <th>11</th><th> </th><td class="l"><span>&nbsp;* @link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://www.codeigniter.com</span> </td>
                      </tr><tr>
                        <th>12</th><th> </th><td class="l"><span>&nbsp;* @since&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Version 1.0</span> </td>
                      </tr><tr>
                        <th>13</th><th> </th><td class="l"><span>&nbsp;* @filesource</span> </td>
                      </tr><tr>
                        <th>14</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>1</th><td class="r"><span>&lt;?php</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>15</th><th>2</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>16</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>17</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>18</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>19</th><th> </th><td class="l"><span>&nbsp;* Code Igniter File Helpers</span> </td>
                      </tr><tr>
                        <th>20</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>21</th><th> </th><td class="l"><span>&nbsp;* @package&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CodeIgniter</span> </td>
                      </tr><tr>
                        <th>22</th><th> </th><td class="l"><span>&nbsp;* @subpackage&nbsp; Helpers</span> </td>
                      </tr><tr>
                        <th>23</th><th> </th><td class="l"><span>&nbsp;* @category&nbsp; &nbsp; Helpers</span> </td>
                      </tr><tr>
                        <th>24</th><th> </th><td class="l"><span>&nbsp;* @author&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rick Ellis</span> </td>
                      </tr><tr>
                        <th>25</th><th> </th><td class="l"><span>&nbsp;* @link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://www.codeigniter.com/user_guide/helpers/file_helpers.html</span> </td>
                      </tr><tr>
                        <th>26</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>27</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>28</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>29</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>30</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>31</th><th> </th><td class="l"><span>&nbsp;* Read File</span> </td>
                      </tr><tr>
                        <th>32</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>33</th><th> </th><td class="l"><span>&nbsp;* Opens the file specfied in the path and returns it as a string.</span> </td>
                      </tr><tr>
                        <th>34</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>35</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>36</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; path to file</span> </td>
                      </tr><tr>
                        <th>37</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>38</th><th> </th><td class="l"><span>&nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>39</th><th> </th><td class="l"><span>function read_file($file)</span> </td>
                      </tr><tr>
                        <th>40</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>41</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! file_exists($file))</span> </td>
                      </tr><tr>
                        <th>42</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>43</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span> </td>
                      </tr><tr>
                        <th>44</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>45</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>46</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (function_exists('file_get_contents'))</span> </td>
                      </tr><tr>
                        <th>47</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>48</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return file_get_contents($file);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>49</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>50</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>51</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! $fp = @fopen($file, 'rb'))</span> </td>
                      </tr><tr>
                        <th>52</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>53</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span> </td>
                      </tr><tr>
                        <th>54</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>55</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>56</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; flock($fp, LOCK_SH);</span> </td>
                      </tr><tr>
                        <th>57</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>58</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $data = '';</span> </td>
                      </tr><tr>
                        <th>59</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (filesize($file) &gt; 0)</span> </td>
                      </tr><tr>
                        <th>60</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>61</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $data =&amp; fread($fp, filesize($file));</span> </td>
                      </tr><tr>
                        <th>62</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>63</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>64</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; flock($fp, LOCK_UN);</span> </td>
                      </tr><tr>
                        <th>65</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; fclose($fp);</span> </td>
                      </tr><tr>
                        <th>66</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>67</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $data;</span> </td>
                      </tr><tr>
                        <th>68</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>69</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>70</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>71</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>72</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>73</th><th> </th><td class="l"><span>&nbsp;* Write File</span> </td>
                      </tr><tr>
                        <th>74</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>75</th><th> </th><td class="l"><span>&nbsp;* Writes data to the file specified in the path.</span> </td>
                      </tr><tr>
                        <th>76</th><th> </th><td class="l"><span>&nbsp;* Creates a new file if non-existent.</span> </td>
                      </tr><tr>
                        <th>77</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>78</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>79</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; path to file</span> </td>
                      </tr><tr>
                        <th>80</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; file data</span> </td>
                      </tr><tr>
                        <th>81</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; bool</span> </td>
                      </tr><tr>
                        <th>82</th><th> </th><td class="l"><span>&nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>83</th><th> </th><td class="l"><span>function write_file($path, $data, $mode = 'wb')</span> </td>
                      </tr><tr>
                        <th>84</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>85</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! $fp = @fopen($path, $mode))</span> </td>
                      </tr><tr>
                        <th>86</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>87</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span> </td>
                      </tr><tr>
                        <th>88</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>89</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>90</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; flock($fp, LOCK_EX);</span> </td>
                      </tr><tr>
                        <th>91</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; fwrite($fp, $data);</span> </td>
                      </tr><tr>
                        <th>92</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; flock($fp, LOCK_UN);</span> </td>
                      </tr><tr>
                        <th>93</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; fclose($fp);&nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>94</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>95</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</span> </td>
                      </tr><tr>
                        <th>96</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>97</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>98</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>99</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>100</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>101</th><th> </th><td class="l"><span>&nbsp;* Delete Files</span> </td>
                      </tr><tr>
                        <th>102</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>103</th><th> </th><td class="l"><span>&nbsp;* Deletes all files contained in the supplied directory path.</span> </td>
                      </tr><tr>
                        <th>104</th><th> </th><td class="l"><span>&nbsp;* Files must be writable or owned by the system in order to be deleted.</span> </td>
                      </tr><tr>
                        <th>105</th><th> </th><td class="l"><span>&nbsp;* If the second parameter is set to TRUE, any directories contained</span> </td>
                      </tr><tr>
                        <th>106</th><th> </th><td class="l"><span>&nbsp;* within the supplied base directory will be nuked as well.</span> </td>
                      </tr><tr>
                        <th>107</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>108</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>109</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; path to file</span> </td>
                      </tr><tr>
                        <th>110</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;bool&nbsp; &nbsp; whether to delete any directories found in the path</span> </td>
                      </tr><tr>
                        <th>111</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; bool</span> </td>
                      </tr><tr>
                        <th>112</th><th> </th><td class="l"><span>&nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>113</th><th> </th><td class="l"><span>function delete_files($path, $del_dir = FALSE, $level = 0)</span> </td>
                      </tr><tr>
                        <th>114</th><th> </th><td class="l"><span>{&nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>115</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // Trim the trailing slash</span> </td>
                      </tr><tr>
                        <th>116</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $path = preg_replace("|^(.+?)/*$|", "\\1", $path);</span> </td>
                      </tr><tr>
                        <th>117</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>118</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! $current_dir = @opendir($path))</span> </td>
                      </tr><tr>
                        <th>119</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span> </td>
                      </tr><tr>
                        <th>120</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>121</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; while(FALSE !== ($filename = @readdir($current_dir)))</span> </td>
                      </tr><tr>
                        <th>122</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>123</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($filename != "." and $filename != "..")</span> </td>
                      </tr><tr>
                        <th>124</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>125</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (is_dir($path.'/'.$filename))</span> </td>
                      </tr><tr>
                        <th>126</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>127</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $level++;</span> </td>
                      </tr><tr>
                        <th>128</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; delete_files($path.'/'.$filename, $del_dir, $level);</span> </td>
                      </tr><tr>
                        <th>129</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>130</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>131</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>132</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unlink($path.'/'.$filename);</span> </td>
                      </tr><tr>
                        <th>133</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>134</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>135</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>136</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; @closedir($current_dir);</span> </td>
                      </tr><tr>
                        <th>137</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>138</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($del_dir == TRUE AND $level &gt; 0)</span> </td>
                      </tr><tr>
                        <th>139</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>140</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @rmdir($path);</span> </td>
                      </tr><tr>
                        <th>141</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>142</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>143</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>144</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>145</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>146</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>147</th><th> </th><td class="l"><span>&nbsp;* Get Filenames</span> </td>
                      </tr><tr>
                        <th>148</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>149</th><th> </th><td class="l"><span>&nbsp;* Reads the specified directory and builds an array containing the filenames.&nbsp; </span> </td>
                      </tr><tr>
                        <th>150</th><th> </th><td class="l"><span>&nbsp;* Any sub-folders contained within the specified path are read as well.</span> </td>
                      </tr><tr>
                        <th>151</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>152</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>153</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; path to source</span> </td>
                      </tr><tr>
                        <th>154</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;bool&nbsp; &nbsp; whether to include the path as part of the filename</span> </td>
                      </tr><tr>
                        <th>155</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; array</span> </td>
                      </tr><tr>
                        <th>156</th><th> </th><td class="l"><span>&nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>157</th><th> </th><td class="l"><span>function get_filenames($source_dir, $include_path = FALSE)</span> </td>
                      </tr><tr>
                        <th>158</th><th> </th><td class="l"><span>{</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>3</th><td class="r"><span>function get_filenames($source_dir, $include_path = FALSE) {</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>159</th><th>4</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; static $_filedata = array();</span> </td>
                  </tr><tr>
                          <th>160</th><th>5</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>161</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($fp = @opendir($source_dir))</span> </td>
                      </tr><tr>
                        <th>162</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>163</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (FALSE !== ($file = readdir($fp)))</span> </td>
                      </tr><tr>
                        <th>164</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>6</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($fp = @opendir($source_dir)) {</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>7</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (FALSE !== ($file = readdir($fp))) {</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>165</th><th>8</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (@is_dir($source_dir.$file) &amp;&amp; substr($file, 0, 1) != '.')</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>166</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>167</th><th>9</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;get_filenames($source_dir.$file."/", $include_path);</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>168</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>169</th><th>10</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif (substr($file, 0, 1) != ".")</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>170</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr class="last">
                          <th>171</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>172</th><th>11</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $_filedata[] = ($include_path == TRUE) ? $source_dir.$file : $file;</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>173</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>174</th><th>12</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>175</th><th>13</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $_filedata;</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file13">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/helpers/url_helper.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/helpers/url_helper.php">system/helpers/url_helper.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 90f5f1177c7fd30b5a988c4b9627e389f296923b">
                    <a title="Show revision 90f5f1177c7fd30b5a988c4b9627e389f296923b of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/helpers/url_helper.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b#L1">
                      r90f5f1</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/helpers/url_helper.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L1">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="mod">
                      <tr class="first">
                        <th>1</th><th> </th><td class="l"><span>&lt;?php&nbsp; if (!defined('BASEPATH')) exit('No direct script access allowed');</span> </td>
                      </tr><tr>
                        <th>2</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>3</th><th> </th><td class="l"><span>&nbsp;* Code Igniter</span> </td>
                      </tr><tr>
                        <th>4</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>5</th><th> </th><td class="l"><span>&nbsp;* An open source application development framework for PHP 4.3.2 or newer</span> </td>
                      </tr><tr>
                        <th>6</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>7</th><th> </th><td class="l"><span>&nbsp;* @package&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CodeIgniter</span> </td>
                      </tr><tr>
                        <th>8</th><th> </th><td class="l"><span>&nbsp;* @author&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rick Ellis</span> </td>
                      </tr><tr>
                        <th>9</th><th> </th><td class="l"><span>&nbsp;* @copyright&nbsp; &nbsp;Copyright (c) 2006, pMachine, Inc.</span> </td>
                      </tr><tr>
                        <th>10</th><th> </th><td class="l"><span>&nbsp;* @license&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://www.codeignitor.com/user_guide/license.html</span> </td>
                      </tr><tr>
                        <th>11</th><th> </th><td class="l"><span>&nbsp;* @link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://www.codeigniter.com</span> </td>
                      </tr><tr>
                        <th>12</th><th> </th><td class="l"><span>&nbsp;* @since&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Version 1.0</span> </td>
                      </tr><tr>
                        <th>13</th><th> </th><td class="l"><span>&nbsp;* @filesource</span> </td>
                      </tr><tr>
                        <th>14</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>1</th><td class="r"><span>&lt;?php</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>15</th><th>2</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>16</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>17</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>18</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>19</th><th> </th><td class="l"><span>&nbsp;* Code Igniter URL Helpers</span> </td>
                      </tr><tr>
                        <th>20</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>21</th><th> </th><td class="l"><span>&nbsp;* @package&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CodeIgniter</span> </td>
                      </tr><tr>
                        <th>22</th><th> </th><td class="l"><span>&nbsp;* @subpackage&nbsp; Helpers</span> </td>
                      </tr><tr>
                        <th>23</th><th> </th><td class="l"><span>&nbsp;* @category&nbsp; &nbsp; Helpers</span> </td>
                      </tr><tr>
                        <th>24</th><th> </th><td class="l"><span>&nbsp;* @author&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rick Ellis</span> </td>
                      </tr><tr>
                        <th>25</th><th> </th><td class="l"><span>&nbsp;* @link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://www.codeigniter.com/user_guide/helpers/url_helper.html</span> </td>
                      </tr><tr>
                        <th>26</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>27</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>28</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>29</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>30</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>31</th><th> </th><td class="l"><span>&nbsp;* Site URL</span> </td>
                      </tr><tr>
                        <th>32</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>33</th><th> </th><td class="l"><span>&nbsp;* Create a local URL based on your basepath. Segments can be passed via the</span> </td>
                      </tr><tr>
                        <th>34</th><th> </th><td class="l"><span>&nbsp;* first parameter either as a string or an array.</span> </td>
                      </tr><tr>
                        <th>35</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>36</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>37</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string</span> </td>
                      </tr><tr>
                        <th>38</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>39</th><th> </th><td class="l"><span>&nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>40</th><th> </th><td class="l"><span>function site_url($uri = '')</span> </td>
                      </tr><tr>
                        <th>41</th><th> </th><td class="l"><span>{</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>3</th><td class="r"><span>function site_url($uri = '') {</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>42</th><th>4</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $CI =&amp; get_instance();</span> </td>
                  </tr><tr>
                          <th>43</th><th>5</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $CI-&gt;config-&gt;site_url($uri);</span> </td>
                  </tr><tr>
                          <th>44</th><th>6</th><td class="l"><span>}</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>45</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr class="last">
                          <th>46</th><th> </th><td class="l"><del>// ------------------------------------------------------------------------</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>47</th><th>7</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>48</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>49</th><th> </th><td class="l"><span>&nbsp;* Base URL</span> </td>
                      </tr><tr>
                        <th>50</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>51</th><th> </th><td class="l"><span>&nbsp;* Returns the "base_url" item from your config file</span> </td>
                      </tr><tr>
                        <th>52</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>53</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>54</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>55</th><th> </th><td class="l"><span>&nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>56</th><th> </th><td class="l"><span>function base_url()</span> </td>
                      </tr><tr>
                        <th>57</th><th> </th><td class="l"><span>{</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>8</th><td class="r"><span>function base_url() {</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>58</th><th>9</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $CI =&amp; get_instance();</span> </td>
                  </tr><tr>
                          <th>59</th><th>10</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $CI-&gt;config-&gt;slash_item('base_url');</span> </td>
                  </tr><tr>
                          <th>60</th><th>11</th><td class="l"><span>}</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>61</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr class="last">
                          <th>62</th><th> </th><td class="l"><del>// ------------------------------------------------------------------------</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>63</th><th>12</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>64</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>65</th><th> </th><td class="l"><span>&nbsp;* Index page</span> </td>
                      </tr><tr>
                        <th>66</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>67</th><th> </th><td class="l"><span>&nbsp;* Returns the "index_page" from your config file</span> </td>
                      </tr><tr>
                        <th>68</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>69</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>70</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>71</th><th> </th><td class="l"><span>&nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>72</th><th> </th><td class="l"><span>function index_page()</span> </td>
                      </tr><tr>
                        <th>73</th><th> </th><td class="l"><span>{</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>13</th><td class="r"><span>function index_page() {</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>74</th><th>14</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $CI =&amp; get_instance();</span> </td>
                  </tr><tr>
                          <th>75</th><th>15</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $CI-&gt;config-&gt;item('index_page');</span> </td>
                  </tr><tr>
                          <th>76</th><th>16</th><td class="l"><span>}</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>77</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr class="last">
                          <th>78</th><th> </th><td class="l"><del>// ------------------------------------------------------------------------</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>79</th><th>17</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>80</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>81</th><th> </th><td class="l"><span>&nbsp;* Anchor Link</span> </td>
                      </tr><tr>
                        <th>82</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>83</th><th> </th><td class="l"><span>&nbsp;* Creates an anchor based on the local URL.</span> </td>
                      </tr><tr>
                        <th>84</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>85</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>86</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the URL</span> </td>
                      </tr><tr>
                        <th>87</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the link title</span> </td>
                      </tr><tr>
                        <th>88</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;mixed&nbsp; &nbsp;any attributes</span> </td>
                      </tr><tr>
                        <th>89</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>90</th><th> </th><td class="l"><span>&nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>91</th><th> </th><td class="l"><span>function anchor($uri = '', $title = '', $attributes = '')</span> </td>
                      </tr><tr>
                        <th>92</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>93</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! is_array($uri))</span> </td>
                      </tr><tr>
                        <th>94</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>95</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $site_url = ( ! preg_match('!^\w+://!i', $uri)) ? site_url($uri) : $uri;</span> </td>
                      </tr><tr>
                        <th>96</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>97</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>98</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>99</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $site_url = site_url($uri);</span> </td>
                      </tr><tr>
                        <th>100</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>101</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>102</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($title == '')</span> </td>
                      </tr><tr>
                        <th>103</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>104</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $title = $site_url;</span> </td>
                      </tr><tr>
                        <th>105</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>106</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>107</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($attributes == '')</span> </td>
                      </tr><tr>
                        <th>108</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>109</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $attributes = ' title="'.$title.'"';</span> </td>
                      </tr><tr>
                        <th>110</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>111</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>112</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>113</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $attributes = _parse_attributes($attributes);</span> </td>
                      </tr><tr>
                        <th>114</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>115</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>116</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return '&lt;a href="'.$site_url.'"'.$attributes.'&gt;'.$title.'&lt;/a&gt;';</span> </td>
                      </tr><tr>
                        <th>117</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>118</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>119</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>120</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>121</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>122</th><th> </th><td class="l"><span>&nbsp;* Anchor Link - Pop-up version</span> </td>
                      </tr><tr>
                        <th>123</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>124</th><th> </th><td class="l"><span>&nbsp;* Creates an anchor based on the local URL. The link</span> </td>
                      </tr><tr>
                        <th>125</th><th> </th><td class="l"><span>&nbsp;* opens a new window based on the attributes specified.</span> </td>
                      </tr><tr>
                        <th>126</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>127</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>128</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the URL</span> </td>
                      </tr><tr>
                        <th>129</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the link title</span> </td>
                      </tr><tr>
                        <th>130</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;mixed&nbsp; &nbsp;any attributes</span> </td>
                      </tr><tr>
                        <th>131</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>132</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>133</th><th> </th><td class="l"><span>function anchor_popup($uri = '', $title = '', $attributes = FALSE)</span> </td>
                      </tr><tr>
                        <th>134</th><th> </th><td class="l"><span>{&nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>135</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $site_url = ( ! preg_match('!^\w+://!i', $uri)) ? site_url($uri) : $uri;</span> </td>
                      </tr><tr>
                        <th>136</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>137</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($title == '')</span> </td>
                      </tr><tr>
                        <th>138</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>139</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $title = $site_url;</span> </td>
                      </tr><tr>
                        <th>140</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>141</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>142</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($attributes === FALSE)</span> </td>
                      </tr><tr>
                        <th>143</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>144</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return "&lt;a href='javascript:void(0);' onclick=\"window.open('".$site_url."', '_blank');\"&gt;".$title."&lt;/a&gt;";</span> </td>
                      </tr><tr>
                        <th>145</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>146</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>147</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( ! is_array($attributes))</span> </td>
                      </tr><tr>
                        <th>148</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>149</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $attributes = array();</span> </td>
                      </tr><tr>
                        <th>150</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>151</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>152</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; foreach (array('width' =&gt; '800', 'height' =&gt; '600', 'scrollbars' =&gt; 'yes', 'status' =&gt; 'yes', 'resizable' =&gt; 'yes', 'screenx' =&gt; '0', 'screeny' =&gt; '0', ) as $key =&gt; $val)</span> </td>
                      </tr><tr>
                        <th>153</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>154</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $atts[$key] = ( ! isset($attributes[$key])) ? $val : $attributes[$key];</span> </td>
                      </tr><tr>
                        <th>155</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>156</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>157</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return "&lt;a href='javascript:void(0);' onclick=\"window.open('".$site_url."', '_blank', '"._parse_attributes($atts, TRUE)."');\"&gt;".$title."&lt;/a&gt;";</span> </td>
                      </tr><tr>
                        <th>158</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>159</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>160</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>161</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>162</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>163</th><th> </th><td class="l"><span>&nbsp;* Mailto Link</span> </td>
                      </tr><tr>
                        <th>164</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>165</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>166</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the email address</span> </td>
                      </tr><tr>
                        <th>167</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the link title</span> </td>
                      </tr><tr>
                        <th>168</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;mixed&nbsp; &nbsp;any attributes</span> </td>
                      </tr><tr>
                        <th>169</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>170</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>171</th><th> </th><td class="l"><span>function mailto($email, $title = '', $attributes = '')</span> </td>
                      </tr><tr>
                        <th>172</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>173</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($title == "")</span> </td>
                      </tr><tr>
                        <th>174</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>175</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $title = $email;</span> </td>
                      </tr><tr>
                        <th>176</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>177</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>178</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $attributes = _parse_attributes($attributes);</span> </td>
                      </tr><tr>
                        <th>179</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>180</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return '&lt;a href="mailto:'.$email.'"'.$attributes.'&gt;'.$title.'&lt;/a&gt;';</span> </td>
                      </tr><tr>
                        <th>181</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>182</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>183</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>184</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>185</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>186</th><th> </th><td class="l"><span>&nbsp;* Encoded Mailto Link</span> </td>
                      </tr><tr>
                        <th>187</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>188</th><th> </th><td class="l"><span>&nbsp;* Create a spam-protected mailto link written in Javascript</span> </td>
                      </tr><tr>
                        <th>189</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>190</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>191</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the email address</span> </td>
                      </tr><tr>
                        <th>192</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the link title</span> </td>
                      </tr><tr>
                        <th>193</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;mixed&nbsp; &nbsp;any attributes</span> </td>
                      </tr><tr>
                        <th>194</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>195</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>196</th><th> </th><td class="l"><span>function safe_mailto($email, $title = '', $attributes = '')</span> </td>
                      </tr><tr>
                        <th>197</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>198</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($title == "")</span> </td>
                      </tr><tr>
                        <th>199</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>200</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $title = $email;</span> </td>
                      </tr><tr>
                        <th>201</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>202</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>203</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; for ($i = 0; $i &lt; 16; $i++)</span> </td>
                      </tr><tr>
                        <th>204</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>205</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $x[] = substr('&lt;a href="mailto:', $i, 1);</span> </td>
                      </tr><tr>
                        <th>206</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>207</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>208</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; for ($i = 0; $i &lt; strlen($email); $i++)</span> </td>
                      </tr><tr>
                        <th>209</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>210</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $x[] = "|".ord(substr($email, $i, 1));</span> </td>
                      </tr><tr>
                        <th>211</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>212</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>213</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $x[] = '"';</span> </td>
                      </tr><tr>
                        <th>214</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>215</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($attributes != '')</span> </td>
                      </tr><tr>
                        <th>216</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>217</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (is_array($attributes))</span> </td>
                      </tr><tr>
                        <th>218</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>219</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($attributes as $key =&gt; $val)</span> </td>
                      </tr><tr>
                        <th>220</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>221</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $x[] =&nbsp; ' '.$key.'="';</span> </td>
                      </tr><tr>
                        <th>222</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for ($i = 0; $i &lt; strlen($val); $i++)</span> </td>
                      </tr><tr>
                        <th>223</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>224</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $x[] = "|".ord(substr($val, $i, 1));</span> </td>
                      </tr><tr>
                        <th>225</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>226</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $x[] = '"';</span> </td>
                      </tr><tr>
                        <th>227</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>228</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>229</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>230</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>231</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for ($i = 0; $i &lt; strlen($attributes); $i++)</span> </td>
                      </tr><tr>
                        <th>232</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>233</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $x[] = substr($attributes, $i, 1);</span> </td>
                      </tr><tr>
                        <th>234</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>235</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>236</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>237</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>238</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $x[] = '&gt;';</span> </td>
                      </tr><tr>
                        <th>239</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>240</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $temp = array();</span> </td>
                      </tr><tr>
                        <th>241</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; for ($i = 0; $i &lt; strlen($title); $i++)</span> </td>
                      </tr><tr>
                        <th>242</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>243</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ordinal = ord($title[$i]);</span> </td>
                      </tr><tr>
                        <th>244</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>245</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ordinal &lt; 128)</span> </td>
                      </tr><tr>
                        <th>246</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>247</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $x[] = "|".$ordinal;</span> </td>
                      </tr><tr>
                        <th>248</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>249</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>250</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>251</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (count($temp) == 0)</span> </td>
                      </tr><tr>
                        <th>252</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>253</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $count = ($ordinal &lt; 224) ? 2 : 3;</span> </td>
                      </tr><tr>
                        <th>254</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>255</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>256</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $temp[] = $ordinal;</span> </td>
                      </tr><tr>
                        <th>257</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (count($temp) == $count)</span> </td>
                      </tr><tr>
                        <th>258</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>259</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $number = ($count == 3) ? (($temp['0'] % 16) * 4096) + (($temp['1'] % 64) * 64) + ($temp['2'] % 64) : (($temp['0'] % 32) * 64) + ($temp['1'] % 64);</span> </td>
                      </tr><tr>
                        <th>260</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $x[] = "|".$number;</span> </td>
                      </tr><tr>
                        <th>261</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $count = 1;</span> </td>
                      </tr><tr>
                        <th>262</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $temp = array();</span> </td>
                      </tr><tr>
                        <th>263</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>264</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>265</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>266</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>267</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $x[] = '&lt;'; $x[] = '/'; $x[] = 'a'; $x[] = '&gt;';</span> </td>
                      </tr><tr>
                        <th>268</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>269</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $x = array_reverse($x);</span> </td>
                      </tr><tr>
                        <th>270</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; ob_start();</span> </td>
                      </tr><tr>
                        <th>271</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>272</th><th> </th><td class="l"><span>?&gt;&lt;script type="text/javascript"&gt;</span> </td>
                      </tr><tr>
                        <th>273</th><th> </th><td class="l"><span>//&lt;![CDATA[</span> </td>
                      </tr><tr>
                        <th>274</th><th> </th><td class="l"><span>var l=new Array();</span> </td>
                      </tr><tr>
                        <th>275</th><th> </th><td class="l"><span>&lt;?php</span> </td>
                      </tr><tr>
                        <th>276</th><th> </th><td class="l"><span>$i = 0;</span> </td>
                      </tr><tr>
                        <th>277</th><th> </th><td class="l"><span>foreach ($x as $val){ ?&gt;l[&lt;?php echo $i++; ?&gt;]='&lt;?php echo $val; ?&gt;';&lt;?php } ?&gt;</span> </td>
                      </tr><tr>
                        <th>278</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>279</th><th> </th><td class="l"><span>for (var i = l.length-1; i &gt;= 0; i=i-1){</span> </td>
                      </tr><tr>
                        <th>280</th><th> </th><td class="l"><span>if (l[i].substring(0, 1) == '|') document.write("&amp;#"+unescape(l[i].substring(1))+";");</span> </td>
                      </tr><tr>
                        <th>281</th><th> </th><td class="l"><span>else document.write(unescape(l[i]));}</span> </td>
                      </tr><tr>
                        <th>282</th><th> </th><td class="l"><span>//]]&gt;</span> </td>
                      </tr><tr>
                        <th>283</th><th> </th><td class="l"><span>&lt;/script&gt;&lt;?php</span> </td>
                      </tr><tr>
                        <th>284</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>285</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $buffer = ob_get_contents();</span> </td>
                      </tr><tr>
                        <th>286</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; ob_end_clean();</span> </td>
                      </tr><tr>
                        <th>287</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $buffer;</span> </td>
                      </tr><tr>
                        <th>288</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>289</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>290</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>291</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>292</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>293</th><th> </th><td class="l"><span>&nbsp;* Auto-linker</span> </td>
                      </tr><tr>
                        <th>294</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>295</th><th> </th><td class="l"><span>&nbsp;* Automatically links URL and Email addresses.</span> </td>
                      </tr><tr>
                        <th>296</th><th> </th><td class="l"><span>&nbsp;* Note: There's a bit of extra code here to deal with</span> </td>
                      </tr><tr>
                        <th>297</th><th> </th><td class="l"><span>&nbsp;* URLs or emails that end in a period.&nbsp; We'll strip these</span> </td>
                      </tr><tr>
                        <th>298</th><th> </th><td class="l"><span>&nbsp;* off and add them after the link.</span> </td>
                      </tr><tr>
                        <th>299</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>300</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>301</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the string</span> </td>
                      </tr><tr>
                        <th>302</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the type: email, url, or both</span> </td>
                      </tr><tr>
                        <th>303</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;bool&nbsp; &nbsp; whether to create pop-up links</span> </td>
                      </tr><tr>
                        <th>304</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>305</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>306</th><th> </th><td class="l"><span>function auto_link($str, $type = 'both', $popup = FALSE)</span> </td>
                      </tr><tr>
                        <th>307</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>308</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($type != 'email')</span> </td>
                      </tr><tr>
                        <th>309</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>310</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (preg_match_all("#(^|\s|\()((http(s?)://)|(www\.))(\w+[^\s\)\&lt;]+)#i", $str, $matches))</span> </td>
                      </tr><tr>
                        <th>311</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>312</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $pop = ($popup == TRUE) ? " target=\"_blank\" " : "";</span> </td>
                      </tr><tr>
                        <th>313</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>314</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for ($i = 0; $i &lt; sizeof($matches['0']); $i++)</span> </td>
                      </tr><tr>
                        <th>315</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>316</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $period = '';</span> </td>
                      </tr><tr>
                        <th>317</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (preg_match("|\.$|", $matches['6'][$i]))</span> </td>
                      </tr><tr>
                        <th>318</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>319</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $period = '.';</span> </td>
                      </tr><tr>
                        <th>320</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['6'][$i] = substr($matches['6'][$i], 0, -1);</span> </td>
                      </tr><tr>
                        <th>321</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>322</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>323</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $str = str_replace($matches['0'][$i],</span> </td>
                      </tr><tr>
                        <th>324</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['1'][$i].'&lt;a href="http'.</span> </td>
                      </tr><tr>
                        <th>325</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['4'][$i].'://'.</span> </td>
                      </tr><tr>
                        <th>326</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['5'][$i].</span> </td>
                      </tr><tr>
                        <th>327</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['6'][$i].'"'.$pop.'&gt;http'.</span> </td>
                      </tr><tr>
                        <th>328</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['4'][$i].'://'.</span> </td>
                      </tr><tr>
                        <th>329</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['5'][$i].</span> </td>
                      </tr><tr>
                        <th>330</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['6'][$i].'&lt;/a&gt;'.</span> </td>
                      </tr><tr>
                        <th>331</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $period, $str);</span> </td>
                      </tr><tr>
                        <th>332</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>333</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>334</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>335</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>336</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($type != 'url')</span> </td>
                      </tr><tr>
                        <th>337</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>338</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (preg_match_all("/([a-zA-Z0-9_\.\-]+)@([a-zA-Z0-9\-]+)\.([a-zA-Z0-9\-\.]*)/i", $str, $matches))</span> </td>
                      </tr><tr>
                        <th>339</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>340</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for ($i = 0; $i &lt; sizeof($matches['0']); $i++)</span> </td>
                      </tr><tr>
                        <th>341</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>342</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $period = '';</span> </td>
                      </tr><tr>
                        <th>343</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (preg_match("|\.$|", $matches['3'][$i]))</span> </td>
                      </tr><tr>
                        <th>344</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>345</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $period = '.';</span> </td>
                      </tr><tr>
                        <th>346</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $matches['3'][$i] = substr($matches['3'][$i], 0, -1);</span> </td>
                      </tr><tr>
                        <th>347</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>348</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>349</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $str = str_replace($matches['0'][$i], safe_mailto($matches['1'][$i].'@'.$matches['2'][$i].'.'.$matches['3'][$i]).$period, $str);</span> </td>
                      </tr><tr>
                        <th>350</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>351</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>352</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>353</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>354</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $str;</span> </td>
                      </tr><tr>
                        <th>355</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>356</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>357</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>358</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>359</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>360</th><th> </th><td class="l"><span>&nbsp;* Prep URL</span> </td>
                      </tr><tr>
                        <th>361</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>362</th><th> </th><td class="l"><span>&nbsp;* Simply adds the http:// part if missing</span> </td>
                      </tr><tr>
                        <th>363</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>364</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>365</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the URL</span> </td>
                      </tr><tr>
                        <th>366</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>367</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>368</th><th> </th><td class="l"><span>function prep_url($str = '')</span> </td>
                      </tr><tr>
                        <th>369</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>370</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($str == 'http://' OR $str == '')</span> </td>
                      </tr><tr>
                        <th>371</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>372</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return '';</span> </td>
                      </tr><tr>
                        <th>373</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>374</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>375</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (substr($str, 0, 7) != 'http://' &amp;&amp; substr($str, 0, 8) != 'https://')</span> </td>
                      </tr><tr>
                        <th>376</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>377</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $str = 'http://'.$str;</span> </td>
                      </tr><tr>
                        <th>378</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>379</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>380</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return $str;</span> </td>
                      </tr><tr>
                        <th>381</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>382</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>383</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>384</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>385</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>386</th><th> </th><td class="l"><span>&nbsp;* Create URL Title</span> </td>
                      </tr><tr>
                        <th>387</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>388</th><th> </th><td class="l"><span>&nbsp;* Takes a "title" string as input and creates a</span> </td>
                      </tr><tr>
                        <th>389</th><th> </th><td class="l"><span>&nbsp;* human-friendly URL string with either a dash</span> </td>
                      </tr><tr>
                        <th>390</th><th> </th><td class="l"><span>&nbsp;* or an underscore as the word separator.</span> </td>
                      </tr><tr>
                        <th>391</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>392</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>393</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the string</span> </td>
                      </tr><tr>
                        <th>394</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the separator: dash, or underscore</span> </td>
                      </tr><tr>
                        <th>395</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>396</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>397</th><th> </th><td class="l"><span>function url_title($str, $separator = 'dash')</span> </td>
                      </tr><tr>
                        <th>398</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>399</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ($separator == 'dash')</span> </td>
                      </tr><tr>
                        <th>400</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>401</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $search&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= '_';</span> </td>
                      </tr><tr>
                        <th>402</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $replace&nbsp; &nbsp; &nbsp; &nbsp; = '-';</span> </td>
                      </tr><tr>
                        <th>403</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>404</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>405</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>406</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $search&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= '-';</span> </td>
                      </tr><tr>
                        <th>407</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $replace&nbsp; &nbsp; &nbsp; &nbsp; = '_';</span> </td>
                      </tr><tr>
                        <th>408</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>409</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>410</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $trans = array(</span> </td>
                      </tr><tr>
                        <th>411</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $search&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; $replace,</span> </td>
                      </tr><tr>
                        <th>412</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "\s+"&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; $replace,</span> </td>
                      </tr><tr>
                        <th>413</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "[^a-z0-9".$replace."]"&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; '',</span> </td>
                      </tr><tr>
                        <th>414</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $replace."+"&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; $replace,</span> </td>
                      </tr><tr>
                        <th>415</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $replace."$"&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; '',</span> </td>
                      </tr><tr>
                        <th>416</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "^".$replace&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; ''</span> </td>
                      </tr><tr>
                        <th>417</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;);</span> </td>
                      </tr><tr>
                        <th>418</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>419</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $str = strip_tags(strtolower($str));</span> </td>
                      </tr><tr>
                        <th>420</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>421</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; foreach ($trans as $key =&gt; $val)</span> </td>
                      </tr><tr>
                        <th>422</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>423</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $str = preg_replace("#".$key."#", $val, $str);</span> </td>
                      </tr><tr>
                        <th>424</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>425</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>426</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return trim(stripslashes($str));</span> </td>
                      </tr><tr>
                        <th>427</th><th> </th><td class="l"><span>}</span> </td>
                      </tr><tr>
                        <th>428</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>429</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>430</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>431</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>432</th><th> </th><td class="l"><span>&nbsp;* Header Redirect</span> </td>
                      </tr><tr>
                        <th>433</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>434</th><th> </th><td class="l"><span>&nbsp;* Header redirect in two flavors</span> </td>
                      </tr><tr>
                        <th>435</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>436</th><th> </th><td class="l"><span>&nbsp;* @access&nbsp; &nbsp; &nbsp; public</span> </td>
                      </tr><tr>
                        <th>437</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the URL</span> </td>
                      </tr><tr>
                        <th>438</th><th> </th><td class="l"><span>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; the method: location or redirect</span> </td>
                      </tr><tr>
                        <th>439</th><th> </th><td class="l"><span>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                      </tr><tr>
                        <th>440</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>441</th><th> </th><td class="l"><span>function redirect($uri = '', $method = 'location')</span> </td>
                      </tr><tr>
                        <th>442</th><th> </th><td class="l"><span>{</span> </td>
                      </tr><tr>
                        <th>443</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; switch($method)</span> </td>
                      </tr><tr>
                        <th>444</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>445</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 'refresh' : header("Refresh:0;url=".site_url($uri));</span> </td>
                      </tr><tr>
                        <th>446</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span> </td>
                      </tr><tr>
                        <th>447</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: header("location:".site_url($uri));</span> </td>
                      </tr><tr>
                        <th>448</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span> </td>
                      </tr><tr>
                        <th>449</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>18</th><td class="r"><span>function redirect($uri = '') {</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>19</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; header("location:".site_url($uri));</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>450</th><th>20</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; exit;</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>451</th><th> </th><td class="l"><del>}</del> </td>
                  </tr><tr>
                          <th>452</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>453</th><th> </th><td class="l"><del>// ------------------------------------------------------------------------</del> </td>
                  </tr><tr>
                          <th>454</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>455</th><th> </th><td class="l"><del>/**</del> </td>
                  </tr><tr>
                          <th>456</th><th> </th><td class="l"><del>&nbsp;* Parse out the attributes</del> </td>
                  </tr><tr>
                          <th>457</th><th> </th><td class="l"><del>&nbsp;*</del> </td>
                  </tr><tr>
                          <th>458</th><th> </th><td class="l"><del>&nbsp;* Some of the functions use this</del> </td>
                  </tr><tr>
                          <th>459</th><th> </th><td class="l"><del>&nbsp;*</del> </td>
                  </tr><tr>
                          <th>460</th><th> </th><td class="l"><del>&nbsp;* @access&nbsp; &nbsp; &nbsp; private</del> </td>
                  </tr><tr>
                          <th>461</th><th> </th><td class="l"><del>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;array</del> </td>
                  </tr><tr>
                          <th>462</th><th> </th><td class="l"><del>&nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;bool</del> </td>
                  </tr><tr>
                          <th>463</th><th> </th><td class="l"><del>&nbsp;* @return&nbsp; &nbsp; &nbsp; string</del> </td>
                  </tr><tr>
                          <th>464</th><th> </th><td class="l"><del>&nbsp;*/</del> </td>
                  </tr><tr>
                          <th>465</th><th> </th><td class="l"><del>function _parse_attributes($attributes, $javascript = FALSE)</del> </td>
                  </tr><tr>
                          <th>466</th><th> </th><td class="l"><del>{</del> </td>
                  </tr><tr>
                          <th>467</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if (is_string($attributes))</del> </td>
                  </tr><tr>
                          <th>468</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>469</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return ($attributes != '') ? ' '.$attributes : '';</del> </td>
                  </tr><tr>
                          <th>470</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>471</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>472</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; $att = '';</del> </td>
                  </tr><tr>
                          <th>473</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; foreach ($attributes as $key =&gt; $val)</del> </td>
                  </tr><tr>
                          <th>474</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>475</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($javascript == TRUE)</del> </td>
                  </tr><tr>
                          <th>476</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>477</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $att .= $key . '=' . $val . ',';</del> </td>
                  </tr><tr>
                          <th>478</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>479</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</del> </td>
                  </tr><tr>
                          <th>480</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>481</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $att .= ' ' . $key . '="' . $val . '"';</del> </td>
                  </tr><tr>
                          <th>482</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>483</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>484</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>485</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; if ($javascript == TRUE AND $att != '')</del> </td>
                  </tr><tr>
                          <th>486</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>487</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $att = substr($att, 0, -1);</del> </td>
                  </tr><tr>
                          <th>488</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>489</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr class="last">
                          <th>490</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; return $att;</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>491</th><th>21</th><td class="l"><span>}</span> </td>
                  </tr><tr>
                          <th>492</th><th>22</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file22">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/libraries/Config.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/libraries/Config.php">system/libraries/Config.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 90f5f1177c7fd30b5a988c4b9627e389f296923b">
                    <a title="Show revision 90f5f1177c7fd30b5a988c4b9627e389f296923b of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b#L46">
                      r90f5f1</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L46">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>46</th><th>46</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                  </tr><tr>
                          <th>47</th><th>47</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;config =&amp; get_config();</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>48</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log_message('debug', "Config Class Initialized");</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>49</th><th>48</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                  </tr><tr>
                          <th>50</th><th>49</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b#L58">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L57">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>58</th><th>57</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @return&nbsp; &nbsp; &nbsp; boolean if the file was loaded correctly</span> </td>
                  </tr><tr>
                          <th>59</th><th>58</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/&nbsp; &nbsp; &nbsp;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>60</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; function load($file = ''<del>, $use_sections = FALSE, $fail_gracefully = FALSE</del>)</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>59</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; function load($file = ''<ins></ins>)</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>61</th><th>60</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>62</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $file = ($file == '') ? 'config' : str_replace(EXT, '', $file);</del> </td>
                  </tr><tr class="last">
                          <th>63</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>64</th><th>61</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (in_array($file, $this-&gt;is_loaded, TRUE))</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>65</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>66</th><th>62</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>67</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>68</th><th>63</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>69</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! file_exists(APPPATH.'config/'.$file.EXT))</del> </td>
                  </tr><tr>
                          <th>70</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>71</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($fail_gracefully === TRUE)</del> </td>
                  </tr><tr>
                          <th>72</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>73</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</del> </td>
                  </tr><tr>
                          <th>74</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>75</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; show_error('The configuration file '.$file.EXT.' does not exist.');</del> </td>
                  </tr><tr>
                          <th>76</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr class="last">
                          <th>77</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>78</th><th>64</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; include(APPPATH.'config/'.$file.EXT);</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>79</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>80</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! isset($config) OR ! is_array($config))</span> </td>
                      </tr><tr>
                        <th>81</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>82</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($fail_gracefully === TRUE)</span> </td>
                      </tr><tr>
                        <th>83</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>84</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span> </td>
                      </tr><tr>
                        <th>85</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>86</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; show_error('Your '.$file.EXT.' file does not appear to contain a valid configuration array.');</span> </td>
                      </tr><tr>
                        <th>87</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>88</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>89</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($use_sections === TRUE)</span> </td>
                      </tr><tr>
                        <th>90</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>91</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (isset($this-&gt;config[$file]))</span> </td>
                      </tr><tr>
                        <th>92</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>93</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;config[$file] = array_merge($this-&gt;config[$file], $config);</span> </td>
                      </tr><tr>
                        <th>94</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>95</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>96</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>97</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;config[$file] = $config;</span> </td>
                      </tr><tr>
                        <th>98</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>99</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>100</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>101</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>102</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;config = array_merge($this-&gt;config, $config);</span> </td>
                      </tr><tr>
                        <th>103</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>65</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;config = array_merge($this-&gt;config, $config);</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>66</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset($config);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>104</th><th>67</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>105</th><th>68</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;is_loaded[] = $file;</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>106</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset($config);</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>107</th><th>69</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>108</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log_message('debug', 'Config file loaded: config/'.$file.EXT);</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>109</th><th>70</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</span> </td>
                  </tr><tr>
                          <th>110</th><th>71</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b#L122">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L83">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>122</th><th>83</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @return&nbsp; &nbsp; &nbsp; string</span> </td>
                  </tr><tr>
                          <th>123</th><th>84</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>124</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; function item($item<del>, $index = ''</del>)</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>85</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; function item($item<ins></ins>)</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>125</th><th>86</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>126</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($index == '')</span> </td>
                      </tr><tr>
                        <th>127</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr><tr>
                        <th>128</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! isset($this-&gt;config[$item]))</span> </td>
                      </tr><tr>
                        <th>129</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>130</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span> </td>
                      </tr><tr>
                        <th>131</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>132</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>133</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $pref = $this-&gt;config[$item];</span> </td>
                      </tr><tr>
                        <th>134</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>135</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span> </td>
                      </tr><tr>
                        <th>136</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>137</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! isset($this-&gt;config[$index]))</span> </td>
                      </tr><tr>
                        <th>138</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>139</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span> </td>
                      </tr><tr>
                        <th>140</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>141</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>142</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( ! isset($this-&gt;config[$index][$item]))</span> </td>
                      </tr><tr>
                        <th>143</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>144</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span> </td>
                      </tr><tr>
                        <th>145</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>146</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>147</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $pref = $this-&gt;config[$index][$item];</span> </td>
                      </tr><tr>
                        <th>148</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>149</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>150</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $pref;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>87</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $this-&gt;config[$item];</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>151</th><th>88</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>152</th><th>89</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b#L183">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Config.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L120">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>183</th><th>120</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $pref;</span> </td>
                  </tr><tr>
                          <th>184</th><th>121</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>185</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>122</th><td class="r"><span></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>186</th><th>123</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; // --------------------------------------------------------------------</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>187</th><th> </th><td class="l"><span></span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>124</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>188</th><th>125</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; /**</span> </td>
                  </tr><tr>
                          <th>189</th><th>126</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Site URL</span> </td>
                  </tr><tr>
                          <th>190</th><th>127</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>191</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @access<del>&nbsp; &nbsp; &nbsp; </del>public</span> </td>
                      </tr><tr>
                        <th>192</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @param<del>&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; </del>the URI string</span> </td>
                      </tr><tr>
                        <th>193</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @return<del>&nbsp; &nbsp; &nbsp; </del>string</span> </td>
                      </tr><tr>
                        <th>194</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/<del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</del></span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>128</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @access<ins>&nbsp; &nbsp; &nbsp; </ins>public</span> </td>
                      </tr><tr>
                        <th> </th><th>129</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @param<ins>&nbsp; &nbsp; &nbsp; &nbsp;string&nbsp; </ins>the URI string</span> </td>
                      </tr><tr>
                        <th> </th><th>130</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @return<ins>&nbsp; &nbsp; &nbsp; </ins>string</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>131</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/<ins></ins></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>195</th><th>132</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; function site_url($uri = '')</span> </td>
                  </tr><tr>
                          <th>196</th><th>133</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>197</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>if (is_array($uri))</span> </td>
                      </tr><tr>
                        <th>198</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>{</span> </td>
                      </tr><tr>
                        <th>199</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>$uri = implode('/', $uri);</span> </td>
                      </tr><tr>
                        <th>200</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>}</span> </td>
                      </tr><tr>
                        <th>201</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del></span> </td>
                      </tr><tr>
                        <th>202</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>if ($uri == '')</span> </td>
                      </tr><tr>
                        <th>203</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>{</span> </td>
                      </tr><tr>
                        <th>204</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>return $this-&gt;slash_item('base_url').$this-&gt;item('index_page');</span> </td>
                      </tr><tr>
                        <th>205</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>}</span> </td>
                      </tr><tr>
                        <th>206</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>else</span> </td>
                      </tr><tr>
                        <th>207</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>{</span> </td>
                      </tr><tr>
                        <th>208</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $suffix = ($this-&gt;item('url_suffix') == FALSE) ? '' : $this-&gt;item('url_suffix');&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del></span> </td>
                      </tr><tr>
                        <th>209</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del>return $this-&gt;slash_item('base_url').$this-&gt;slash_item('index_page').preg_replace("|^/*(.+?)/*$|", "\\1", $uri).$suffix;</span> </td>
                      </tr><tr>
                        <th>210</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>}</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>134</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>if (is_array($uri))</span> </td>
                      </tr><tr>
                        <th> </th><th>135</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>{</span> </td>
                      </tr><tr>
                        <th> </th><th>136</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>$uri = implode('/', $uri);</span> </td>
                      </tr><tr>
                        <th> </th><th>137</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>}</span> </td>
                      </tr><tr>
                        <th> </th><th>138</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins></ins></span> </td>
                      </tr><tr>
                        <th> </th><th>139</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>if ($uri == '')</span> </td>
                      </tr><tr>
                        <th> </th><th>140</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>{</span> </td>
                      </tr><tr>
                        <th> </th><th>141</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>return $this-&gt;slash_item('base_url').$this-&gt;item('index_page');</span> </td>
                      </tr><tr>
                        <th> </th><th>142</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>}</span> </td>
                      </tr><tr>
                        <th> </th><th>143</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>else</span> </td>
                      </tr><tr>
                        <th> </th><th>144</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>{</span> </td>
                      </tr><tr>
                        <th> </th><th>145</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $suffix = ($this-&gt;item('url_suffix') == FALSE) ? '' : $this-&gt;item('url_suffix');</ins></span> </td>
                      </tr><tr>
                        <th> </th><th>146</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins>return $this-&gt;slash_item('base_url').$this-&gt;slash_item('index_page').preg_replace("|^/*(.+?)/*$|", "\\1", $uri).$suffix;</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>147</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; <ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins>}</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>211</th><th>148</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>212</th><th>149</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file23">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/libraries/Controller.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/libraries/Controller.php">system/libraries/Controller.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1">
                    <a title="Show revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L1">
                      ref5fc</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L1">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="mod">
                      <tr class="first">
                        <th>1</th><th> </th><td class="l"><span>&lt;?php&nbsp; if (!defined('BASEPATH')) exit('No direct script access allowed');</span> </td>
                      </tr><tr>
                        <th>2</th><th> </th><td class="l"><span>/**</span> </td>
                      </tr><tr>
                        <th>3</th><th> </th><td class="l"><span>&nbsp;* Code Igniter</span> </td>
                      </tr><tr>
                        <th>4</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>5</th><th> </th><td class="l"><span>&nbsp;* An open source application development framework for PHP 4.3.2 or newer</span> </td>
                      </tr><tr>
                        <th>6</th><th> </th><td class="l"><span>&nbsp;*</span> </td>
                      </tr><tr>
                        <th>7</th><th> </th><td class="l"><span>&nbsp;* @package&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CodeIgniter</span> </td>
                      </tr><tr>
                        <th>8</th><th> </th><td class="l"><span>&nbsp;* @author&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rick Ellis</span> </td>
                      </tr><tr>
                        <th>9</th><th> </th><td class="l"><span>&nbsp;* @copyright&nbsp; &nbsp;Copyright (c) 2006, pMachine, Inc.</span> </td>
                      </tr><tr>
                        <th>10</th><th> </th><td class="l"><span>&nbsp;* @license&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://www.codeignitor.com/user_guide/license.html</span> </td>
                      </tr><tr>
                        <th>11</th><th> </th><td class="l"><span>&nbsp;* @link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://www.codeigniter.com</span> </td>
                      </tr><tr>
                        <th>12</th><th> </th><td class="l"><span>&nbsp;* @since&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Version 1.0</span> </td>
                      </tr><tr>
                        <th>13</th><th> </th><td class="l"><span>&nbsp;* @filesource</span> </td>
                      </tr><tr>
                        <th>14</th><th> </th><td class="l"><span>&nbsp;*/</span> </td>
                      </tr><tr>
                        <th>15</th><th> </th><td class="l"><span></span> </td>
                      </tr><tr>
                        <th>16</th><th> </th><td class="l"><span>// ------------------------------------------------------------------------</span> </td>
                      </tr><tr>
                        <th>17</th><th> </th><td class="l"><span></span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>1</th><td class="r"><span>&lt;?php</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>18</th><th>2</th><td class="l"><span>/**</span> </td>
                  </tr><tr>
                          <th>19</th><th>3</th><td class="l"><span>&nbsp;* Code Igniter Application Controller Class</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L21">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L5">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>21</th><th>5</th><td class="l"><span>&nbsp;* This class object is the super class the every library in</span> </td>
                  </tr><tr>
                          <th>22</th><th>6</th><td class="l"><span>&nbsp;* Code Igniter will be assigned to.</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>23</th><th> </th><td class="l"><del>&nbsp;*</del> </td>
                  </tr><tr>
                          <th>24</th><th> </th><td class="l"><del>&nbsp;* @package&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CodeIgniter</del> </td>
                  </tr><tr>
                          <th>25</th><th> </th><td class="l"><del>&nbsp;* @subpackage&nbsp; Libraries</del> </td>
                  </tr><tr>
                          <th>26</th><th> </th><td class="l"><del>&nbsp;* @category&nbsp; &nbsp; Libraries</del> </td>
                  </tr><tr>
                          <th>27</th><th> </th><td class="l"><del>&nbsp;* @author&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Rick Ellis</del> </td>
                  </tr><tr class="last">
                          <th>28</th><th> </th><td class="l"><del>&nbsp;* @link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://www.codeigniter.com/user_guide/general/controllers.html</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>29</th><th>7</th><td class="l"><span>&nbsp;*/</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>30</th><th> </th><td class="l"><span>class Controller extends CI_Base {</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>8</th><td class="r"><span>class Controller {</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>9</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; private static $instance;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>31</th><th>10</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>32</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var $_ci_scaffolding&nbsp; &nbsp; = FALSE;</del> </td>
                  </tr><tr>
                          <th>33</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var $_ci_scaff_table&nbsp; &nbsp; = FALSE;</del> </td>
                  </tr><tr>
                          <th>34</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>35</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; /**</del> </td>
                  </tr><tr>
                          <th>36</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Constructor</del> </td>
                  </tr><tr>
                          <th>37</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*</del> </td>
                  </tr><tr>
                          <th>38</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Calls the initialize() function</del> </td>
                  </tr><tr class="last">
                          <th>39</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>40</th><th>11</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; function Controller()</span> </td>
                  </tr><tr>
                          <th>41</th><th>12</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>42</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>parent::CI_Base()</del>;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>13</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins>self::$instance =&amp; $this</ins>;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>43</th><th>14</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;_ci_initialize();</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>44</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log_message('debug', "Controller Class Initialized");</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>45</th><th>15</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>46</th><th>16</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>47</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // --------------------------------------------------------------------</del> </td>
                  </tr><tr>
                          <th>48</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>49</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; /**</del> </td>
                  </tr><tr>
                          <th>50</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Initialize</del> </td>
                  </tr><tr>
                          <th>51</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*</del> </td>
                  </tr><tr>
                          <th>52</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Assigns all the bases classes loaded by the front controller to</del> </td>
                  </tr><tr>
                          <th>53</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* variables in this class.&nbsp; Also calls the autoload routine.</del> </td>
                  </tr><tr>
                          <th>54</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*</del> </td>
                  </tr><tr>
                          <th>55</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @access&nbsp; &nbsp; &nbsp; private</del> </td>
                  </tr><tr>
                          <th>56</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @return&nbsp; &nbsp; &nbsp; void</del> </td>
                  </tr><tr class="last">
                          <th>57</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>58</th><th>17</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; function _ci_initialize()</span> </td>
                  </tr><tr>
                          <th>59</th><th>18</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L62">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L21">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>62</th><th>21</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // run as one big super object.</span> </td>
                  </tr><tr>
                          <th>63</th><th>22</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $classes = array(</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>64</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'config'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Config',</span> </td>
                      </tr><tr>
                        <th>65</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'uri'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'URI',</span> </td>
                      </tr><tr>
                        <th>66</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'lang'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Language'</span> </td>
                      </tr><tr>
                        <th>67</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>23</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'config'&nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Config',</span> </td>
                      </tr><tr>
                        <th> </th><th>24</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'uri'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'URI',</span> </td>
                      </tr><tr>
                        <th> </th><th>25</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'lang'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; 'Language',</span> </td>
                      </tr><tr>
                        <th> </th><th>26</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'input'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 'Input'</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>27</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>68</th><th>28</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr><tr>
                          <th>69</th><th>29</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($classes as $var =&gt; $class)</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L76">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Controller.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L36">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>76</th><th>36</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>77</th><th>37</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>38</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; public static function &amp;get_instance()</ins> </td>
                  </tr><tr>
                          <th> </th><th>39</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; {</ins> </td>
                  </tr><tr>
                          <th> </th><th>40</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return self::$instance;</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>41</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>78</th><th>42</th><td class="l"><span>}</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>79</th><th> </th><td class="l"><span>// END _Controller class</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>43</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>44</th><td class="r"><span>function &amp;get_instance()</span> </td>
                      </tr><tr>
                        <th> </th><th>45</th><td class="r"><span>{</span> </td>
                      </tr><tr>
                        <th> </th><th>46</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; return Controller::get_instance();</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>47</th><td class="r"><span>}</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>80</th><th>48</th><td class="l"><span>?&gt;</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file25">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/libraries/Loader.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/libraries/Loader.php">system/libraries/Loader.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1">
                    <a title="Show revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Loader.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L40">
                      ref5fc</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Loader.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L40">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>40</th><th>40</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $_ci_plugins&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = array();</span> </td>
                  </tr><tr>
                          <th>41</th><th>41</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $_ci_scripts&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = array();</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>42</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $_ci_varmap&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= array('u<del>nit_test' =&gt; 'unit', 'u</del>ser_agent' =&gt; 'agent');</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>42</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $_ci_varmap&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= array('u<ins></ins>ser_agent' =&gt; 'agent');</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>43</th><th>43</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr><tr>
                          <th>44</th><th>44</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file27">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/libraries/Router.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/libraries/Router.php">system/libraries/Router.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1">
                    <a title="Show revision ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Router.php?rev=ef5fcffdf6cc3e81cb6757e4b0480946cb8082b1#L35">
                      ref5fc</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Router.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L35">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>35</th><th>35</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $routes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= array();</span> </td>
                  </tr><tr>
                          <th>36</th><th>36</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $error_routes&nbsp; &nbsp; &nbsp; &nbsp;= array();</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>37</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $class&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <del>&nbsp; &nbsp; &nbsp; &nbsp; </del>= '';</span> </td>
                      </tr><tr>
                        <th>38</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $method&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<del>&nbsp; &nbsp; &nbsp; &nbsp; </del>= 'index';</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>37</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $class&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <ins></ins>= '';</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>38</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $method&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<ins></ins>= 'index';</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>39</th><th>39</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $directory&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = '';</span> </td>
                  </tr><tr>
                          <th>40</th><th>40</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $uri_protocol&nbsp; &nbsp; &nbsp; &nbsp;= 'auto';</span> </td>
                  </tr><tr>
                          <th>41</th><th>41</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; var $default_controller;</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>42</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; var $scaffolding_request = FALSE; // Must be set to FALSE</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>43</th><th>42</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr><tr>
                          <th>44</th><th>43</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; /**</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file29">
          <a title="Show the changeset 165b053650cc798921b3a7dc5a16336620e1c8ba restricted to system/libraries/Validation.php" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba/system/libraries/Validation.php">system/libraries/Validation.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 90f5f1177c7fd30b5a988c4b9627e389f296923b">
                    <a title="Show revision 90f5f1177c7fd30b5a988c4b9627e389f296923b of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Validation.php?rev=90f5f1177c7fd30b5a988c4b9627e389f296923b#L667">
                      r90f5f1</a>
                  </th>
                  <th title="Revision 165b053650cc798921b3a7dc5a16336620e1c8ba">
                    <a title="Show revision 165b053650cc798921b3a7dc5a16336620e1c8ba of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/libraries/Validation.php?rev=165b053650cc798921b3a7dc5a16336620e1c8ba#L667">
                      r165b0</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>667</th><th>667</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr><tr>
                          <th>668</th><th>668</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; /**</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>669</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Prep URL</del> </td>
                  </tr><tr>
                          <th>670</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*</del> </td>
                  </tr><tr>
                          <th>671</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @access&nbsp; &nbsp; &nbsp; public</del> </td>
                  </tr><tr>
                          <th>672</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @param&nbsp; &nbsp; &nbsp; &nbsp;string</del> </td>
                  </tr><tr>
                          <th>673</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* @return&nbsp; &nbsp; &nbsp; string</del> </td>
                  </tr><tr>
                          <th>674</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/&nbsp; &nbsp; &nbsp;</del> </td>
                  </tr><tr>
                          <th>675</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; function prep_url($str = '')</del> </td>
                  </tr><tr>
                          <th>676</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>677</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($str == 'http://' OR $str == '')</del> </td>
                  </tr><tr>
                          <th>678</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>679</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $_POST[$this-&gt;_current_field] = '';</del> </td>
                  </tr><tr>
                          <th>680</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</del> </td>
                  </tr><tr>
                          <th>681</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>682</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>683</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (substr($str, 0, 7) != 'http://' &amp;&amp; substr($str, 0, 8) != 'https://')</del> </td>
                  </tr><tr>
                          <th>684</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</del> </td>
                  </tr><tr>
                          <th>685</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $str = 'http://'.$str;</del> </td>
                  </tr><tr>
                          <th>686</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>687</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>688</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $_POST[$this-&gt;_current_field] = $str;</del> </td>
                  </tr><tr>
                          <th>689</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; }</del> </td>
                  </tr><tr>
                          <th>690</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr>
                          <th>691</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; // --------------------------------------------------------------------</del> </td>
                  </tr><tr>
                          <th>692</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; </del> </td>
                  </tr><tr class="last">
                          <th>693</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; /**</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>694</th><th>669</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Strip Image Tags</span> </td>
                  </tr><tr>
                          <th>695</th><th>670</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba?format=diff&new=165b053650cc798921b3a7dc5a16336620e1c8ba" class="diff">Unified Diff</a>
        </li><li class="last">
          <a rel="nofollow" href="http://dev2.theyorker.co.uk/trac/changeset/165b053650cc798921b3a7dc5a16336620e1c8ba?format=zip&new=165b053650cc798921b3a7dc5a16336620e1c8ba" class="zip">Zip Archive</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../about.html"><strong>Trac 0.11.1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>