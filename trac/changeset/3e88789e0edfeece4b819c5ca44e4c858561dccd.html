<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  

  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>
      Changeset 3e88789e0edfeece4b819c5ca44e4c858561dccd –
      The Yorker
    </title>
        <link rel="search" href="../search.html" />
        <link rel="prev" href="3bd1d9d540412f1c64a12be7ed040c3763394b2b.html" title="Changeset 3bd1d9d540412f1c64a12be7ed040c3763394b2b" />
        <link rel="last" href="4663e7077f9a41a86111194402f498613109bfa4.html" title="Changeset 4663e7077f9a41a86111194402f498613109bfa4" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="http://dev2.theyorker.co.uk/trac/changeset/3e88789e0edfeece4b819c5ca44e4c858561dccd?format=diff&new=3e88789e0edfeece4b819c5ca44e4c858561dccd" type="text/plain" class="diff" title="Unified Diff" /><link rel="alternate" href="http://dev2.theyorker.co.uk/trac/changeset/3e88789e0edfeece4b819c5ca44e4c858561dccd?format=zip&new=3e88789e0edfeece4b819c5ca44e4c858561dccd" type="application/zip" class="zip" title="Zip Archive" />
        <link rel="next" href="89240c4fac51896affede73efa6db1b69c07540f.html" title="Changeset 89240c4fac51896affede73efa6db1b69c07540f" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/changeset.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/diff.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/code.css" type="text/css" />
        <link rel="first" href="8f01cfef778eb063e661839b60a7226601ef07b1.html" title="Changeset 8f01cfef778eb063e661839b60a7226601ef07b1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search The Yorker" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/diff.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("li.entry h2 a").parent().addAnchor("Link to this diff");
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../trac.html"><img src="../../apps-logo.png" alt="The Yorker" /></a>
      </div>
      <form id="search" action="/trac/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first">logged in as nick_evans</li><li><a href="../../trac.html">Logout</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../browser.html">Browse Source</a></li><li><a href="../report.html">View Tickets</a></li><li><a href="../newticket.html">New Ticket</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
            <li class="first "><span>&larr; <a class="prev" href="3bd1d9d540412f1c64a12be7ed040c3763394b2b.html" title="Changeset 3bd1d9d540412f1c64a12be7ed040c3763394b2b">Previous Changeset</a></span></li><li class="last"><span><a class="next" href="89240c4fac51896affede73efa6db1b69c07540f.html" title="Changeset 89240c4fac51896affede73efa6db1b69c07540f">Next Changeset</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="changeset">
      <div id="title">
        <h1>Changeset 3e88789e0edfeece4b819c5ca44e4c858561dccd</h1>
      </div>
      <form id="prefs" action="">
        <div>
    <label for="style">View differences</label>
    <select id="style" name="style">
      <option selected="selected" value="inline">inline</option>
      <option value="sidebyside">side by side</option>
    </select>
    <div class="field">
      Show <input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
      <label for="contextlines">lines around each change</label>
    </div>
    <fieldset id="ignore">
      <legend>Ignore:</legend>
      <div class="field">
        <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
        <label for="ignoreblanklines">Blank lines</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorecase" name="ignorecase" />
        <label for="ignorecase">Case changes</label>
      </div>
      <div class="field">
        <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
        <label for="ignorewhitespace">White space changes</label>
      </div>
    </fieldset>
    <div class="buttons">
      <input type="submit" name="update" value="Update" />
    </div>
        </div>
      </form>
      <dl id="overview">
          <dt class="property time">Timestamp:</dt>
          <dd class="time">03/23/07 00:38:59 (<a class="timeline" href="../timeline-from=2007-03-23T00-38-59Z+0000&precision=second.html" title="2007-03-23T00:38:59Z+0000 in Timeline">9 years</a> ago)</dd>
          <dt class="property author">Author:</dt>
          <dd class="author">James Hogan &lt;james_hogan@…&gt;</dd>
              <dt class="property">Parents:</dt>
              <dd><a class="changeset" href="3bd1d9d540412f1c64a12be7ed040c3763394b2b.html" title="#175 Basic structure of notices + mockup of notice board (from viparea),  ...">3bd1d9d540412f1c64a12be7ed040c3763394b2b</a></dd>
              <dt class="property">Children:</dt>
              <dd><a class="changeset" href="89240c4fac51896affede73efa6db1b69c07540f.html" title="More mockup work for members + vip account:
moved vip email settings to  ...">89240c4fac51896affede73efa6db1b69c07540f</a></dd>
              <dt class="property">git-committer:</dt>
              <dd>James Hogan &lt;james_hogan@theyorker.co.uk&gt; / 2007-03-23T00:38:59Z+0000</dd>
          <dt class="property message">Message:</dt>
          <dd class="message searchable">
            
            
              <p>
Mostly mocking up of some members pages<br />
design/games: removed as now in wiki<br />
design/vip+pr: minor updates<br />
public_html/images/prototype/members: images for member list mockup<br />
members controller:<br />
</p>
<blockquote>
<p>
few changes, not functional, just mockup for now<br />
added tabs<br />
</p>
</blockquote>
<p>
vip frame: added viparea home link<br />
member views:<br />
</p>
<blockquote>
<p>
mockup of invite (renamed view as well) - see wiki Functional:Member_Manager<br />
changes to member list, right hand bar and icons to reflect slightly the updated spec<br />
</p>
</blockquote>

            
            
          </dd>
        <dt class="property files">Files:</dt>
        <dd class="files">
          <div class="legend" id="file-legend">
            <dl>
              <dt class="add"></dt><dd>9 added</dd>
              <dt class="rem"></dt><dd>2 removed</dd>
              <dt class="mod"></dt><dd>6 modified</dd>
            </dl>
          </div>
          <br />
          <ul>
            <li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 594cf9686b300ca4046ec12517754adb9a2ed790)" href="../browser/design/games/spec.txt-rev=594cf9686b300ca4046ec12517754adb9a2ed790.html">
              design/games/spec.txt
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="../browser/design/vip+pr/members.txt-rev=3e88789e0edfeece4b819c5ca44e4c858561dccd.html">
              design/vip+pr/members.txt
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="3e88789e0edfeece4b819c5ca44e4c858561dccd.html#file1">2 diffs</a>)
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/card.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/card.png
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/card_active.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/card_active.png
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/card_expired.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/card_expired.png
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/card_inactive.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/card_inactive.png
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/confirmed.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/confirmed.png
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/email.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/email.png
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/nomail.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/nomail.png
            </a>
          <span class="comment">(modified)</span>
            (<a title="Show previous version in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/nomail.png?rev=40461fc4630ccd7cd1687d383a2129e38bc94890">previous</a>)
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/paid.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/paid.png
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/public_html/images/prototype/members/vip.png?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              public_html/images/prototype/members/vip.png
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              system/application/controllers/office/members.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="3e88789e0edfeece4b819c5ca44e4c858561dccd.html#file11">6 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/frames/vip_frame.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              system/application/views/frames/vip_frame.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="3e88789e0edfeece4b819c5ca44e4c858561dccd.html#file12">1 diff</a>)
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/invite.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              system/application/views/members/invite.php
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              system/application/views/members/members.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="3e88789e0edfeece4b819c5ca44e4c858561dccd.html#file14">3 diffs</a>)
            </li><li>
          <div class="rem"> </div>
            <a title="Show what was removed (rev. 40461fc4630ccd7cd1687d383a2129e38bc94890)" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_invite.php?rev=40461fc4630ccd7cd1687d383a2129e38bc94890">
              system/application/views/members/members_invite.php
            </a>
          <span class="comment">(deleted)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd">
              system/application/views/members/members_list.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="3e88789e0edfeece4b819c5ca44e4c858561dccd.html#file16">4 diffs</a>)
            </li>
          </ul>
        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file1">
          <a title="Show the changeset 3e88789e0edfeece4b819c5ca44e4c858561dccd restricted to design/vip+pr/members.txt" href="3e88789e0edfeece4b819c5ca44e4c858561dccd/design/vip+pr/members.txt.html">design/vip+pr/members.txt</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision f7e80980b4ada08906130dc09a0eec4b6db2ffdb">
                    <a title="Show revision f7e80980b4ada08906130dc09a0eec4b6db2ffdb of this file in browser" href="../browser/design/vip+pr/members.txt-rev=f7e80980b4ada08906130dc09a0eec4b6db2ffdb.html#L23">
                      rf7e80</a>
                  </th>
                  <th title="Revision 3e88789e0edfeece4b819c5ca44e4c858561dccd">
                    <a title="Show revision 3e88789e0edfeece4b819c5ca44e4c858561dccd of this file in browser" href="../browser/design/vip+pr/members.txt-rev=3e88789e0edfeece4b819c5ca44e4c858561dccd.html#L23">
                      r3e887</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>23</th><th>23</th><td class="l"><span>=== Base of all member controller uris ===</span> </td>
                  </tr><tr>
                          <th>24</th><th>24</th><td class="l"><span>&lt;- base -&gt;&lt;-- controller + org --&gt;&lt;...</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>25</th><th> </th><td class="l"><span>/admin/<del>vip</del></span> </td>
                      </tr><tr>
                        <th>26</th><th> </th><td class="l"><span>&nbsp;<del>&nbsp;</del>/viparea</span> </td>
                      </tr><tr>
                        <th>27</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<del>&nbsp;</del>/$organisation/members</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>25</th><td class="r"><span>/admin/<ins>pr</ins></span> </td>
                      </tr><tr>
                        <th> </th><th>26</th><td class="r"><span>&nbsp;<ins></ins>/viparea</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>27</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<ins></ins>/$organisation/members</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>28</th><th>28</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>29</th><th>29</th><td class="l"><span>=== Subcontroller URI design ===</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="../browser/design/vip+pr/members.txt-rev=f7e80980b4ada08906130dc09a0eec4b6db2ffdb.html#L86">…</a></th>
                  <th><a href="../browser/design/vip+pr/members.txt-rev=3e88789e0edfeece4b819c5ca44e4c858561dccd.html#L86">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>86</th><th>86</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>87</th><th>87</th><td class="l"><span>== DB Requirements == </span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>88</th><th> </th><td class="l"><del></del> </td>
                  </tr><tr>
                          <th>89</th><th> </th><td class="l"><del>== Questions ==</del> </td>
                  </tr><tr>
                          <th>90</th><th> </th><td class="l"><del>Wikitext in mass notifications/emails?</del> </td>
                  </tr><tr>
                          <th>91</th><th> </th><td class="l"><del>&nbsp;- Nick: Hell ye! (justification: it's an advanced level they don't need to use,</del> </td>
                  </tr><tr>
                          <th>92</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;but can quickly learn and feel special (e.g. for headings etc).</del> </td>
                  </tr><tr class="last">
                          <th>93</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;we can have it in the pr training too.)</del> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file11">
          <a title="Show the changeset 3e88789e0edfeece4b819c5ca44e4c858561dccd restricted to system/application/controllers/office/members.php" href="http://dev2.theyorker.co.uk/trac/changeset/3e88789e0edfeece4b819c5ca44e4c858561dccd/system/application/controllers/office/members.php">system/application/controllers/office/members.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3bd1d9d540412f1c64a12be7ed040c3763394b2b">
                    <a title="Show revision 3bd1d9d540412f1c64a12be7ed040c3763394b2b of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3bd1d9d540412f1c64a12be7ed040c3763394b2b#L660">
                      r3bd1d</a>
                  </th>
                  <th title="Revision 3e88789e0edfeece4b819c5ca44e4c858561dccd">
                    <a title="Show revision 3e88789e0edfeece4b819c5ca44e4c858561dccd of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L660">
                      r3e887</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>660</th><th>660</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>661</th><th>661</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>662</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; /// Tags that can be appended to invite text emails</ins> </td>
                  </tr><tr>
                          <th> </th><th>663</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; protected static $sInviteFlags = array(</ins> </td>
                  </tr><tr>
                          <th> </th><th>664</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'v' =&gt; 'vip',</ins> </td>
                  </tr><tr>
                          <th> </th><th>665</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'p' =&gt; 'paid',</ins> </td>
                  </tr><tr>
                          <th> </th><th>666</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; );</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>667</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; </ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>662</th><th>668</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; /// Invite new members to join.</span> </td>
                  </tr><tr>
                          <th>663</th><th>669</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; /**</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3bd1d9d540412f1c64a12be7ed040c3763394b2b#L667">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L673">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>667</th><th>673</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!CheckPermissions('vip')) return;</span> </td>
                  </tr><tr>
                          <th>668</th><th>674</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>675</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;load-&gt;helper('string');</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>676</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>669</th><th>677</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;_SetupTabs('invite');</span> </td>
                  </tr><tr>
                          <th>670</th><th>678</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3bd1d9d540412f1c64a12be7ed040c3763394b2b#L674">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L682">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>674</th><th>682</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr><tr>
                          <th>675</th><th>683</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Read the post data</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>676</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $button = $this-&gt;input-&gt;post('members_invite_button');</span> </td>
                      </tr><tr>
                        <th>677</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($button === 'Invite Members') {</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>684</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($this-&gt;input-&gt;post('members_invite_button') === 'Continue') {</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>678</th><th>685</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $emails = $this-&gt;input-&gt;post('invite_list');</span> </td>
                  </tr><tr>
                          <th>679</th><th>686</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (FALSE !== $emails) {</span> </td>
                  </tr><tr>
                          <th>680</th><th>687</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Validate the emails</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>681</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $email_list = explode("\n", $emails);</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>688</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $preprocessed_emails = preg_replace('/[^a-zA-Z0-9@\.]+/',' ',$emails);</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>689</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $word_list = explode(" ", $preprocessed_emails);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>682</th><th>690</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $valids = array();</span> </td>
                  </tr><tr>
                          <th>683</th><th>691</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $failures = array();</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>684</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($email_list as $key =&gt; $email) {</span> </td>
                      </tr><tr>
                        <th>685</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!empty($email)) {</span> </td>
                      </tr><tr>
                        <th>686</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (preg_match('/^([a-zA-Z0-9]{3,8})(@york\.ac\.uk)?$/', $email, $matches)) {</span> </td>
                      </tr><tr>
                        <th>687</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $valids[] = strtolower($matches[1]);</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>692</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $last_email = NULL;</span> </td>
                      </tr><tr>
                        <th> </th><th>693</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($word_list as $word) {</span> </td>
                      </tr><tr>
                        <th> </th><th>694</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!empty($word)) {</span> </td>
                      </tr><tr>
                        <th> </th><th>695</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (preg_match('/^([a-zA-Z]{2,5}\d{2,4})(@york\.ac\.uk)?$/', $word, $matches)) {</span> </td>
                      </tr><tr>
                        <th> </th><th>696</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $last_email = strtolower($matches[1]);</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>697</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $valids[$last_email] = array();</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>688</th><th>698</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>689</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $failures[] = $email;</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>699</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $all_flags = ($last_email !== NULL);</span> </td>
                      </tr><tr>
                        <th> </th><th>700</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($all_flags) {</span> </td>
                      </tr><tr>
                        <th> </th><th>701</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (str_split($word) as $flag) {</span> </td>
                      </tr><tr>
                        <th> </th><th>702</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (array_key_exists($flag, self::$sInviteFlags)) {</span> </td>
                      </tr><tr>
                        <th> </th><th>703</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $valids[$last_email][self::$sInviteFlags[$flag]] = TRUE;</span> </td>
                      </tr><tr>
                        <th> </th><th>704</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span> </td>
                      </tr><tr>
                        <th> </th><th>705</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $all_flags = FALSE;</span> </td>
                      </tr><tr>
                        <th> </th><th>706</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</span> </td>
                      </tr><tr>
                        <th> </th><th>707</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th> </th><th>708</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th> </th><th>709</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th> </th><th>710</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!$all_flags) {</span> </td>
                      </tr><tr>
                        <th> </th><th>711</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $failures[] = $word;</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>712</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>690</th><th>713</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>691</th><th>714</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3bd1d9d540412f1c64a12be7ed040c3763394b2b#L693">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L716">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>693</th><th>716</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!empty($failures)) {</span> </td>
                  </tr><tr>
                          <th>694</th><th>717</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // There were failures!</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>695</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddMessage('error', 'The following <del>line</del>s don\'t look like valid york email addresses:&lt;br /&gt;'.implode('&lt;br /&gt;',$failures));</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>718</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddMessage('error', 'The following <ins>word</ins>s don\'t look like valid york email addresses:&lt;br /&gt;'.implode('&lt;br /&gt;',$failures));</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>696</th><th>719</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $default_list = $emails;</span> </td>
                  </tr><tr>
                          <th>697</th><th>720</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3bd1d9d540412f1c64a12be7ed040c3763394b2b#L702">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L725">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>702</th><th>725</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span> </td>
                  </tr><tr>
                          <th>703</th><th>726</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Everything was fine.</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>704</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $default_list = $this-&gt;_InviteUsers(</span> </td>
                      </tr><tr>
                        <th>705</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VipOrganisationId(), $valids,</span> </td>
                      </tr><tr>
                        <th>706</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'username', VipOrganisationName()</span> </td>
                      </tr><tr>
                        <th>707</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span> </td>
                      </tr><tr>
                        <th>708</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $default_list = implode("\n",$default_list);</span> </td>
                      </tr><tr>
                        <th>709</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>710</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>727</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /// @todo display list of invites before inviting.</span> </td>
                      </tr><tr>
                        <th> </th><th>728</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;messages-&gt;AddDumpMessage('valids',$valids);</span> </td>
                      </tr><tr>
                        <th> </th><th>729</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th> </th><th>730</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th> </th><th>731</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if ($this-&gt;input-&gt;post('confirm_invite_button') === 'Confirm Invites') {</span> </td>
                      </tr><tr>
                        <th> </th><th>732</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $default_list = $this-&gt;_InviteUsers(</span> </td>
                      </tr><tr>
                        <th> </th><th>733</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VipOrganisationId(), $valids,</span> </td>
                      </tr><tr>
                        <th> </th><th>734</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'username', VipOrganisationName()</span> </td>
                      </tr><tr>
                        <th> </th><th>735</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>736</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $default_list = implode("\n",$default_list);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>711</th><th>737</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                  </tr><tr>
                          <th>712</th><th>738</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3bd1d9d540412f1c64a12be7ed040c3763394b2b#L719">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/controllers/office/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L745">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>719</th><th>745</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'organisation' =&gt; $this-&gt;mOrganisation,</span> </td>
                  </tr><tr>
                          <th>720</th><th>746</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'default_list' =&gt; $default_list,</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>747</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'step' =&gt; 1,</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>721</th><th>748</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>722</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;main_frame-&gt;SetContentSimple('members/<del>members_</del>invite', $data);</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>749</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;main_frame-&gt;SetContentSimple('members/<ins></ins>invite', $data);</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>723</th><th>750</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr><tr>
                          <th>724</th><th>751</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Set the title parameters</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file12">
          <a title="Show the changeset 3e88789e0edfeece4b819c5ca44e4c858561dccd restricted to system/application/views/frames/vip_frame.php" href="http://dev2.theyorker.co.uk/trac/changeset/3e88789e0edfeece4b819c5ca44e4c858561dccd/system/application/views/frames/vip_frame.php">system/application/views/frames/vip_frame.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3bd1d9d540412f1c64a12be7ed040c3763394b2b">
                    <a title="Show revision 3bd1d9d540412f1c64a12be7ed040c3763394b2b of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/frames/vip_frame.php?rev=3bd1d9d540412f1c64a12be7ed040c3763394b2b#L93">
                      r3bd1d</a>
                  </th>
                  <th title="Revision 3e88789e0edfeece4b819c5ca44e4c858561dccd">
                    <a title="Show revision 3e88789e0edfeece4b819c5ca44e4c858561dccd of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/frames/vip_frame.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L93">
                      r3e887</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>93</th><th>93</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;br style="clear: both;" /&gt;</span> </td>
                  </tr><tr>
                          <th>94</th><th>94</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;div style="float: left; width: 120px; margin-top: 8px; margin-right: 5px; background-color: #fff;"&gt;</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>95</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class='navigationmenu_item_noborder'&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>96</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href='&lt;?php echo site_url('viparea'); ?&gt;'&gt;VIP Area Home&lt;/a&gt;</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>97</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>95</th><th>98</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class='navigationmenu_item'&gt;</span> </td>
                  </tr><tr>
                          <th>96</th><th>99</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href='&lt;?php echo vip_url('directory/information'); ?&gt;'&gt;Directory Entry&lt;/a&gt;</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file14">
          <a title="Show the changeset 3e88789e0edfeece4b819c5ca44e4c858561dccd restricted to system/application/views/members/members.php" href="http://dev2.theyorker.co.uk/trac/changeset/3e88789e0edfeece4b819c5ca44e4c858561dccd/system/application/views/members/members.php">system/application/views/members/members.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision fb0e7f3556ac9373680feb9ce3ba0a83c342104c">
                    <a title="Show revision fb0e7f3556ac9373680feb9ce3ba0a83c342104c of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members.php?rev=fb0e7f3556ac9373680feb9ce3ba0a83c342104c#L1">
                      rfb0e7f</a>
                  </th>
                  <th title="Revision 3e88789e0edfeece4b819c5ca44e4c858561dccd">
                    <a title="Show revision 3e88789e0edfeece4b819c5ca44e4c858561dccd of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L1">
                      r3e887</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="add">
                  <tr class="first">
                          <th> </th><th>1</th><td class="r"><ins>&lt;?php</ins> </td>
                  </tr><tr>
                          <th> </th><th>2</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>3</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>4</th><td class="r"><ins>/// Draw a branch of the tree of teams</ins> </td>
                  </tr><tr>
                          <th> </th><th>5</th><td class="r"><ins>function EchoTeamFilterOptions($team, $path = '', $indentation = 0)</ins> </td>
                  </tr><tr>
                          <th> </th><th>6</th><td class="r"><ins>{</ins> </td>
                  </tr><tr>
                          <th> </th><th>7</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; foreach ($team['subteams'] as $subteam) {</ins> </td>
                  </tr><tr>
                          <th> </th><th>8</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;option name="team_'.$subteam['id'].'"&gt;';</ins> </td>
                  </tr><tr>
                          <th> </th><th>9</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //echo str_repeat('&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;',$indentation);</ins> </td>
                  </tr><tr>
                          <th> </th><th>10</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo $path.$subteam['name'];</ins> </td>
                  </tr><tr>
                          <th> </th><th>11</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;/option&gt;';</ins> </td>
                  </tr><tr>
                          <th> </th><th>12</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!empty($subteam['subteams'])) {</ins> </td>
                  </tr><tr>
                          <th> </th><th>13</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EchoTeamFilterOptions($subteam, $path.$subteam['name'].'/', $indentation+1);</ins> </td>
                  </tr><tr>
                          <th> </th><th>14</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins> </td>
                  </tr><tr>
                          <th> </th><th>15</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins> </td>
                  </tr><tr>
                          <th> </th><th>16</th><td class="r"><ins>}</ins> </td>
                  </tr><tr>
                          <th> </th><th>17</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>18</th><td class="r"><ins>?&gt;</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>19</th><td class="r"><ins></ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1</th><th>20</th><td class="l"><span>&lt;div class='RightToolbar'&gt;</span> </td>
                  </tr><tr>
                          <th>2</th><th>21</th><td class="l"><span>&lt;h4&gt;What's this?&lt;/h4&gt;</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members.php?rev=fb0e7f3556ac9373680feb9ce3ba0a83c342104c#L5">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L24">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>5</th><th>24</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/p&gt;</span> </td>
                  </tr><tr>
                          <th>6</th><th>25</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>26</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &lt;H4&gt;Search&lt;/H4&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>27</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="checkbox" /&gt; Within current filter&lt;br /&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>28</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input value="" /&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>29</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="submit" value="Search" /&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>30</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &lt;H4&gt;Filters&lt;/H4&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>31</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;select&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>32</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;All members&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>33</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;optgroup label="Member status:"&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>34</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;Confirmed&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>35</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;Unconfirmed&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>36</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;Paying&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>37</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;Non-paying&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>38</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;VIPs&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>39</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;Non-VIPs&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>40</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/optgroup&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>41</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;optgroup label="Business card status:"&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>42</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;With active business card&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>43</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;Still writing business card&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>44</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;With expired business card&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>45</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option&gt;Without business card&lt;/option&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>46</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/optgroup&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>47</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php</ins> </td>
                  </tr><tr>
                          <th> </th><th>48</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!empty($organisation['subteams'])) {</ins> </td>
                  </tr><tr>
                          <th> </th><th>49</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;optgroup label="In team:"&gt;';</ins> </td>
                  </tr><tr>
                          <th> </th><th>50</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EchoTeamFilterOptions($organisation, FALSE);</ins> </td>
                  </tr><tr>
                          <th> </th><th>51</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;/optgroup&gt;';</ins> </td>
                  </tr><tr>
                          <th> </th><th>52</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins> </td>
                  </tr><tr>
                          <th> </th><th>53</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ?&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>54</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/select&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>55</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="submit" value="Show" /&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>56</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="#"&gt;advanced filter options&lt;/a&gt;</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>57</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;Showing confirmed members&lt;/p&gt;</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>7</th><th>58</th><td class="l"><span>&lt;?php</span> </td>
                  </tr><tr>
                          <th>8</th><th>59</th><td class="l"><span>if (!empty($filter['descriptors'])) {</span> </td>
                  </tr><tr>
                          <th>9</th><th>60</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; ?&gt;&lt;P&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>10</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;H4&gt;<del></del>Filters&lt;/H4&gt;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>61</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;H4&gt;<ins>Advanced </ins>Filters&lt;/H4&gt;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>11</th><th>62</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;SMALL&gt;&lt;A HREF="&lt;?php echo vip_url('members/list'); ?&gt;"&gt;remove all&lt;/A&gt;&lt;/SMALL&gt;</span> </td>
                  </tr><tr>
                          <th>12</th><th>63</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;OL&gt;&lt;?php</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members.php?rev=fb0e7f3556ac9373680feb9ce3ba0a83c342104c#L23">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L74">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>23</th><th>74</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/P&gt;&lt;?php</span> </td>
                  </tr><tr>
                          <th>24</th><th>75</th><td class="l"><span>}</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>25</th><th> </th><td class="l"><span>?&gt;</span> </td>
                      </tr><tr>
                        <th>26</th><th> </th><td class="l"><span>&lt;h4&gt;Filter by details&lt;/h4&gt;</span> </td>
                      </tr><tr>
                        <th>27</th><th> </th><td class="l"><span>&lt;input type='checkbox' name='filter_paid' value='1'&gt; Paid&lt;br /&gt;</span> </td>
                      </tr><tr>
                        <th>28</th><th> </th><td class="l"><span>&lt;input type='checkbox' name='filter_mailing_list' value='1'&gt; On Mailing List&lt;br /&gt;</span> </td>
                      </tr><tr>
                        <th>29</th><th> </th><td class="l"><span>&lt;input type='checkbox' name='filter_reply' value='1'&gt; Awaiting Reply&lt;br /&gt;</span> </td>
                      </tr><tr>
                        <th>30</th><th> </th><td class="l"><span>&lt;input type='checkbox' name='filter_vip' value='1'&gt; VIP&lt;br /&gt;</span> </td>
                      </tr><tr>
                        <th>31</th><th> </th><td class="l"><span>&lt;?php</span> </td>
                      </tr><tr>
                        <th>32</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; /// Draw a branch of the tree of teams</span> </td>
                      </tr><tr>
                        <th>33</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; function EchoTeamFilters($team, $in_list = TRUE)</span> </td>
                      </tr><tr>
                        <th>34</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; {</span> </td>
                      </tr><tr>
                        <th>35</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($in_list) {</span> </td>
                      </tr><tr>
                        <th>36</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;LI&gt;';</span> </td>
                      </tr><tr>
                        <th>37</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>38</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;input type="checkbox" name="filter_team_'.$team['id'].'" value="'.$team['id'].'" /&gt;';</span> </td>
                      </tr><tr>
                        <th>39</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo $team['name'];</span> </td>
                      </tr><tr>
                        <th>40</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!empty($team['subteams'])) {</span> </td>
                      </tr><tr>
                        <th>41</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;UL&gt;';</span> </td>
                      </tr><tr>
                        <th>42</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($team['subteams'] as $subteam) {</span> </td>
                      </tr><tr>
                        <th>43</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EchoTeamFilters($subteam);</span> </td>
                      </tr><tr>
                        <th>44</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>45</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;/UL&gt;';</span> </td>
                      </tr><tr>
                        <th>46</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>47</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($in_list) {</span> </td>
                      </tr><tr>
                        <th>48</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;/LI&gt;';</span> </td>
                      </tr><tr>
                        <th>49</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>50</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return count($team['subteams']);</span> </td>
                      </tr><tr>
                        <th>51</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>52</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                      </tr><tr>
                        <th>53</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if (!empty($organisation['subteams'])) {</span> </td>
                      </tr><tr>
                        <th>54</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;h4&gt;Filter by team&lt;/h4&gt;';</span> </td>
                      </tr><tr>
                        <th>55</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Draw the tree of teams</span> </td>
                      </tr><tr>
                        <th>56</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($organisation['subteams'] as $team) {</span> </td>
                      </tr><tr>
                        <th>57</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!EchoTeamFilters($team, FALSE)) {</span> </td>
                      </tr><tr>
                        <th>58</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;br /&gt;';</span> </td>
                      </tr><tr>
                        <th>59</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>60</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr><tr>
                        <th>61</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>76</th><td class="r"><span></span> </td>
                      </tr><tr class="last">
                        <th> </th><th>77</th><td class="r"><span></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>62</th><th>78</th><td class="l"><span>?&gt;</span> </td>
                  </tr><tr>
                          <th>63</th><th>79</th><td class="l"><span>&lt;/div&gt;</span> </td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>64</th><th> </th><td class="l"><del>&lt;a href='&lt;?php echo vip_url('members/invite'); ?&gt;'&gt;Invite members to join&lt;/a&gt;&lt;BR /&gt;</del> </td>
                  </tr><tr>
                          <th>65</th><th> </th><td class="l"><del>&lt;a href='&lt;?php echo vip_url('members/teams'); ?&gt;'&gt;Manage teams&lt;/a&gt;&lt;BR /&gt;</del> </td>
                  </tr><tr class="last">
                          <th>66</th><th> </th><td class="l"><del>&lt;a href='&lt;?php echo vip_url('members/cards'); ?&gt;'&gt;Manage business cards&lt;/a&gt;&lt;BR /&gt;</del> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>67</th><th>80</th><td class="l"><span>&lt;?php $this-&gt;load-&gt;view('members/members_list');?&gt;</span> </td>
                  </tr><tr>
                          <th>68</th><th>81</th><td class="l"><span>&lt;a href='&lt;?php echo vip_url(); ?&gt;'&gt;Back to the vip area.&lt;/a&gt;</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file16">
          <a title="Show the changeset 3e88789e0edfeece4b819c5ca44e4c858561dccd restricted to system/application/views/members/members_list.php" href="http://dev2.theyorker.co.uk/trac/changeset/3e88789e0edfeece4b819c5ca44e4c858561dccd/system/application/views/members/members_list.php">system/application/views/members/members_list.php</a>
        </h2>
        <table class="inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 2130d14bf073951ae280a821a6bfd5b947da2b56">
                    <a title="Show revision 2130d14bf073951ae280a821a6bfd5b947da2b56 of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=2130d14bf073951ae280a821a6bfd5b947da2b56#L4">
                      r2130d</a>
                  </th>
                  <th title="Revision 3e88789e0edfeece4b819c5ca44e4c858561dccd">
                    <a title="Show revision 3e88789e0edfeece4b819c5ca44e4c858561dccd of this file in browser" href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L4">
                      r3e887</a>
                  </th>
                  <th> </th>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>4</th><th>4</th><td class="l"><span>&nbsp;* @brief Show a list of all the members and allow filtering.</span> </td>
                  </tr><tr>
                          <th>5</th><th>5</th><td class="l"><span>&nbsp;*/</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>6</th><td class="r"><ins></ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>7</th><td class="r"><ins>/// @todo all emails should be displayed</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>6</th><th>8</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>7</th><th>9</th><td class="l"><span>/// Show select options for a team.</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=2130d14bf073951ae280a821a6bfd5b947da2b56#L70">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L72">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>70</th><th>72</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th&gt;&lt;?php SortLink($filter, $sort_fields, 'surname','Surname'); ?&gt;&lt;/th&gt;</span> </td>
                  </tr><tr>
                          <th>71</th><th>73</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th&gt;Email&lt;/th&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>72</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th<del></del>&gt;&lt;?php SortLink($filter, $sort_fields, 'confirmed','Conf'); ?&gt;&lt;?php /*</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>74</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th<ins>&nbsp;align="center"</ins>&gt;&lt;?php SortLink($filter, $sort_fields, 'confirmed','Conf'); ?&gt;&lt;?php /*</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>73</th><th>75</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th&gt;&lt;?php SortLink($filter, $sort_fields, 'mailable','E?', TRUE); ?&gt;&lt;/th&gt; */ ?&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>74</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th&gt;&lt;?php SortLink($filter, $sort_fields, 'paid','Paid'); ?&gt;&lt;/th&gt;</span> </td>
                      </tr><tr>
                        <th>75</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th&gt;&lt;?php SortLink($filter, $sort_fields, 'vip','VIP'); ?&gt;&lt;/th&gt;</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>76</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th align="center"&gt;&lt;?php SortLink($filter, $sort_fields, 'paid','Paid'); ?&gt;&lt;/th&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>77</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th align="center"&gt;&lt;?php SortLink($filter, $sort_fields, 'vip','VIP'); ?&gt;&lt;/th&gt;</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>78</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;th&gt;Card&lt;/th&gt;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>76</th><th>79</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/tr&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>77</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php foreach ($members as $membership) {?&gt;</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>80</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php </span> </td>
                      </tr><tr>
                        <th> </th><th>81</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $i = -1;</span> </td>
                      </tr><tr>
                        <th> </th><th>82</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($members as $membership) {</span> </td>
                      </tr><tr>
                        <th> </th><th>83</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $i = ($i+1)%4;</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>84</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ?&gt;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>78</th><th>85</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr&gt;</span> </td>
                  </tr><tr>
                          <th>79</th><th>86</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td align="center"&gt;</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=2130d14bf073951ae280a821a6bfd5b947da2b56#L82">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L89">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>82</th><th>89</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; id="user&lt;?php echo $membership['user_id']; ?&gt;" /&gt;&lt;/td&gt;</span> </td>
                  </tr><tr>
                          <th>83</th><th>90</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td colspan=2&gt;&lt;a href='&lt;?php echo vip_url('members/info/'.$membership['user_id']); ?&gt;'&gt;&lt;?php echo $membership['firstname'].' '.$membership['surname']; ?&gt;&lt;/a&gt;&lt;/td&gt;</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>91</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php /** @todo email should show username */ ?&gt;</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>84</th><th>92</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;?php if (NULL !== $membership['email']) { ?&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>85</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href='mailto:&lt;?php echo $membership['email'];?&gt;'&gt;<del>email</del>&lt;/a&gt;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>93</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href='mailto:&lt;?php echo $membership['email'];?&gt;'&gt;<ins>&lt;IMG SRC="/images/prototype/members/email.png" ALT="email" /&gt;</ins>&lt;/a&gt;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>86</th><th>94</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } else {?&gt;</span> </td>
                  </tr><tr>
                          <th>87</th><th>95</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;IMG SRC="/images/prototype/members/nomail.png" ALT="not available" /&gt;</span> </td>
                  </tr><tr>
                          <th>88</th><th>96</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } ?&gt;&lt;/td&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>89</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;?php if (isset($membership['confirmed'])) FilterLinkBool($filter, 'confirmed', $membership['confirmed']); ?&gt;&lt;/td&gt;&lt;?php /*</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>97</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td align="center"&gt;&lt;?php if (isset($membership['confirmed']) &amp;&amp; $membership['confirmed']) { ?&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>98</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;IMG SRC="/images/prototype/members/confirmed.png" ALT="Yes" /&gt;</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>99</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } ?&gt;&lt;/td&gt;&lt;?php /*</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>90</th><th>100</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;?php if (isset($membership['on_mailing_list'])) FilterLinkBool($filter, 'mailable', $membership['on_mailing_list']); ?&gt;&lt;/td&gt;*/ ?&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>91</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;?php if (isset($membership['paid'])) FilterLinkBool($filter, 'paid', $membership['paid']); ?&gt;&lt;/td&gt;</span> </td>
                      </tr><tr>
                        <th>92</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;?php if (isset($membership['vip'])) FilterLinkBool($filter, 'vip', $membership['vip']); ?&gt;&lt;/td&gt;</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>101</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td align="center"&gt;&lt;?php if (isset($membership['paid']) &amp;&amp; $membership['paid']) { ?&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>102</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;IMG SRC="/images/prototype/members/paid.png" ALT="Yes" /&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>103</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } ?&gt;&lt;/td&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>104</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td align="center"&gt;&lt;?php if (isset($membership['vip']) &amp;&amp; $membership['vip']) { ?&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>105</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;IMG SRC="/images/prototype/members/vip.png" ALT="Yes" /&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>106</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } ?&gt;&lt;/td&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>107</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td align="center"&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>108</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php if ($i == 1) { ?&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>109</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;IMG SRC="/images/prototype/members/card_active.png" ALT="Active" /&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>110</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } elseif ($i == 2) { ?&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>111</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;IMG SRC="/images/prototype/members/card_expired.png" ALT="Expired" /&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>112</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } elseif ($i == 3) { ?&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>113</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;IMG SRC="/images/prototype/members/card_inactive.png" ALT="Inactive" /&gt;</span> </td>
                      </tr><tr>
                        <th> </th><th>114</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } ?&gt;</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>115</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>93</th><th>116</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/tr&gt;</span> </td>
                  </tr><tr>
                          <th>94</th><th>117</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php } ?&gt;</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=2130d14bf073951ae280a821a6bfd5b947da2b56#L97">…</a></th>
                  <th><a href="http://dev2.theyorker.co.uk/trac/browser/system/application/views/members/members_list.php?rev=3e88789e0edfeece4b819c5ca44e4c858561dccd#L120">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>97</th><th>120</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /// @TODO Check/uncheck all</span> </td>
                  </tr><tr>
                          <th>98</th><th>121</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ?&gt;</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>99</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="#" onclick="if (markAllRows('rowsDeleteForm')) return false;"&gt;check all&lt;/a&gt; /</span> </td>
                      </tr><tr>
                        <th>100</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="#" onclick="if (unMarkAllRows('rowsDeleteForm')) return false;"&gt;uncheck all&lt;/a&gt;</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>122</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;?php /*&lt;a href="#" onclick="if (markAllRows('rowsDeleteForm')) return false;"&gt;check all&lt;/a&gt; /</span> </td>
                      </tr><tr>
                        <th> </th><th>123</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="#" onclick="if (unMarkAllRows('rowsDeleteForm')) return false;"&gt;uncheck all&lt;/a&gt;*/ ?&gt;</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>124</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type="button"</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>101</th><th>125</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span> </td>
                  </tr><tr>
                          <th>102</th><th>126</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;fieldset&gt;</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="http://dev2.theyorker.co.uk/trac/changeset/3e88789e0edfeece4b819c5ca44e4c858561dccd?format=diff&new=3e88789e0edfeece4b819c5ca44e4c858561dccd" class="diff">Unified Diff</a>
        </li><li class="last">
          <a rel="nofollow" href="http://dev2.theyorker.co.uk/trac/changeset/3e88789e0edfeece4b819c5ca44e4c858561dccd?format=zip&new=3e88789e0edfeece4b819c5ca44e4c858561dccd" class="zip">Zip Archive</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../about.html"><strong>Trac 0.11.1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>